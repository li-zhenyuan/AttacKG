<!DOCTYPE HTML>


<html lang="en">
<head>

	

	
	<link rel="preconnect" href="https://apps.developermedia.com">
	<link rel="preconnect" href="https://cdn1.developermedia.com">
	<link rel="preconnect" href="https://cdn.ampproject.org">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://ajax.googleapis.com">
	<link rel="preconnect" href="https://adservice.google.com">
	<link rel="preconnect" href="https://www.googletagservices.com">
	<link rel="preconnect" href="https://www.googletagmanager.com">
	<link rel="preconnect" href="https://www.google.com">
	<link rel="preconnect" href="https://www.google-analytics.com">
	<link rel="preconnect" href="https://pagead2.googlesyndication.com">

	<link rel="preconnect" href="https://www.codeproject.com">


	<link rel="preload" href="https://www.codeproject.com/App_Themes/CodeProject/Img/logo250x135.gif" as="image">


	<link rel="preload" href="/App_Themes/CodeProject/Img/logo135-bg.gif" as="image">
	<link rel="preload" href="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" as="script" type="text/javascript" >


	<title>FDump - Dumping File Sectors Directly from Disk using Logical Offsets - CodeProject</title> 
    
	<!-- inlined file /App_Themes/CodeProject/Css/article.critical.min.css. Minimized in Release. -->
<style type='text/css'>
/*! CSS Used from: /App_Themes/CodeProject/Css/Main.css?dt=2.8.20210329.2 */
.theme1-background{background-color:#f90}.blank-background{background-color:#fff}div,span,iframe,a,code,em,img,sup,form,label,table,tbody,tr,td,li,ol,ul{margin:0;padding:0;border:0}body,p,h1,h2,h4,li,tr,td{font-family:"Segoe UI",Arial,Sans-Serif;font-size:14px;line-height:1.4;color:#111}body{margin:0}h1,h4{font-weight:bold}h1{color:#333;padding:0;margin:0 0 7px;text-align:left}h2{margin:20px 0 11px;padding:0;padding-bottom:10px;color:#333}h1{font-size:29px;font-weight:200}h2{font-size:29px;font-weight:200}h4{font-size:16px}pre{color:#000;background-color:#fbedbb;padding:6px;font:13px Consolas,monospace,mono;white-space:pre;overflow:auto !important;border:solid 1px #fbedbb;-moz-tab-size:4;-o-tab-size:4;-webkit-tab-size:4;tab-size:4}code{color:#900;font:15px Consolas,monospace,mono}table{background-color:Transparent}img{-ms-interpolation-mode:bicubic}a{text-decoration:none;color:#005782}a:visited{color:#800080}a:active{text-decoration:underline}a:hover{text-decoration:underline}a:focus{outline:none !important}img:focus{outline:none !important}a:not([href]){color:inherit;text-decoration:none}::selection{background-color:#f90;color:#fff;text-shadow:none}::-moz-selection{background-color:#f90;color:#fff;text-shadow:none}input[type="search"],input[type="email"],select{border:1px solid #d7d7d7;font-size:14px;padding:5px}input[type="search"]:focus,input[type="email"]:focus,select:focus{border:1px solid #a0acbf}input[type=radio]{border:none}.button{color:#fff;background-color:#e08900;border:1px solid #ccc;text-decoration:none !important;white-space:nowrap;font-size:100%;padding:4px;cursor:pointer;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}.small-text{font-size:12px !important}.hidden{visibility:hidden}.invisible{display:none}.subdue{color:#808080}.bold{font-weight:bold}.normal{color:#333;font-weight:normal}.muted{color:#ccc !important}.align-left{text-align:left !important}.align-right{text-align:right !important}.align-center{text-align:center}.float-right{float:right}.float-left{float:left}.extended{width:100%;box-sizing:border-box}.padded-top{padding-top:20px !important}.tight{margin:0 !important;padding:0 !important}.nowrap{white-space:nowrap}.fixed-layout{table-layout:fixed}.clipped{overflow:hidden}.raised{background-color:#fff8df;border:1px solid #ccc;-moz-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);-webkit-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);box-shadow:4px 4px 16px 1px rgba(0,0,0,.25)}ol,ul{padding-left:40px;margin:10px 0}ul li.compact{font-size:12px}.callout{margin:20px 0;background-color:#ffffe1;color:#333;border:1px solid #ccc;padding:15px;border-radius:3px;-webkit-border-radius:3px;-moz-border-radius:3px}.trace{padding:20px;background-color:#eee;color:#333;border:1px solid #f00;font-size:11px}.divider-dark{border-style:none;color:#333;background-color:#333;height:1px;padding:0;margin:0}input[type="button"],input[type="submit"]{-webkit-appearance:none;border-radius:0}div.pagelog{border:0 !important;padding:0 !important}div.pagelog>span{display:inline-block}div.pagelog>span.timestamp{width:60px;padding-right:5px;text-align:right}div.pagelog>span.timestamp .partial{font-size:70%;vertical-align:top}div.pagelog>span.duration{width:60px;text-align:right;padding:0 10px 0 5px}div.pagelog>span.calldata{padding-left:10px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:inline-block}.container-content{background-color:#fff;position:relative;zoom:1;padding:0 9px;cursor:default}.container-content-wrap{margin:auto;max-width:1056px}.container-content pre{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;_white-space:pre;word-break:break-word;-ms-word-break:break-word}.flex-container{display:-webkit-box !important;display:-moz-box !important;display:-ms-flexbox !important;display:-webkit-flex !important;display:flex !important}.flex-extend{justify-content:space-between}.flex-item{-webkit-box-flex:1 !important;-moz-box-flex:1 !important;-webkit-flex:1 !important;-ms-flex:1 !important;flex:1 !important}.flex-item-tight{flex:0 1 auto}.hover-container{display:block;position:relative}.hover-row:hover,.hover-row:hover td{background-color:#fff8df !important}.clearfix:after,.container:after{display:block;content:'.';visibility:hidden;height:0;clear:both}.clearfix,.container{display:inline-block;display:block}.access-link,.access-link img{position:absolute;top:0;left:0;width:1px;height:1px;z-index:101;border-style:none;margin-top:-1px;overflow:hidden}.site-top-menu{white-space:nowrap;position:absolute;z-index:101;width:100% !important}.site-top-menu .main-content{width:100% !important}.site-top-menu .main-content .memberbar{margin-left:90px;margin-right:10px}.site-top-menu.fixed .main-content{margin:auto;max-width:1056px}.site-header{background-image:url('/App_Themes/CodeProject/Img/logo135-bg.gif');white-space:nowrap;overflow:hidden}.site-header .main-content{position:relative;overflow:hidden;white-space:nowrap}.site-header .logo{display:inline-block}.site-header .promo{display:inline-block;position:absolute;top:33px;right:0}.site-header.fixed .main-content{margin:auto;max-width:1056px}@media(max-width:1000px){.site-header .promo{left:250px}}.sub-headerbar{padding-right:9px;position:relative;margin:auto;max-width:1044px}.sub-headerbar-divider{margin-left:10px;height:1px;border-bottom:1px solid #ccc;position:absolute;bottom:2px;left:0;right:9px}.memberbar{height:25px;padding-top:10px;color:#999;font-size:12px}.memberbar a{color:#808080;font-size:12px}div.navbar{white-space:nowrap}.navmenu{background:#fff;color:#4d4d4d;padding:0;margin:0;list-style:none;height:25px}.navmenu ul,.navmenu li{margin:0;padding:0}.navmenu .has-submenu{position:absolute;right:5px;padding-left:10px}.navmenu>li:hover>a,.navmenu>li>a:active{border:1px solid #ccc}.navmenu ul{border:1px solid #ccc;border-bottom-color:#fff}.navmenu>li{margin:0 11px 2px 2px}.navmenu>li:active,.navmenu>li:active>a,.navmenu>li:hover,.navmenu>li>a:active{background:#fff !important;color:#4d4d4d !important}.navmenu>li>a{padding:2px 7px 6px 7px;border:1px solid transparent;font-weight:bold}.navmenu a{display:block;float:left;color:#666;background:#fff;font-size:16px;padding:0 9px;text-decoration:none;white-space:nowrap}.navmenu a.fly{white-space:nowrap}.navmenu ul{background:#fff;position:absolute;left:-9999px;top:-9999px;list-style:none}.navmenu li{float:left;color:#4d4d4d}.navmenu li.last{height:9px}.navmenu li a:active,.navmenu li a:hover{color:#fff;background-color:#f90}.navmenu li>a:active,.navmenu li:hover,.navmenu li:hover>a,.navmenu li a.selected{position:relative;color:#fff;background-color:#f90}.navmenu li.openable:hover ul{left:0;top:30px;z-index:500}.navmenu li.openable:hover li.openable:active>ul,.navmenu li.openable:hover li.openable:hover>ul{left:-1px;margin-left:100%;top:-1px;z-index:500}.navmenu li.openable:hover>ul ul{position:absolute;left:-9999px;top:-9999px;width:auto}.navmenu li li:hover ul.taxonomy{left:100%;margin-left:-1px;top:-1px}.navmenu li ul{border-bottom:5px solid #f90}.navmenu li li{float:none}.navmenu li li:active>a.fly,.navmenu li li:hover>a.fly{color:#fff;background-color:#f90}.navmenu li li a{float:none;font-size:13px;font-weight:normal}.navmenu li li a.fly{color:#4d4d4d;background-color:#fff;padding:2px 20px}.navmenu li li a.break{margin-bottom:15px}.navmenu li li a.highlight1,.navmenu li li a.highlight1:active,.navmenu li li a.highlight1:hover{background-color:#090}.navmenu li li a.highlight2,.navmenu li li a.highlight2:active,.navmenu li li a.highlight2:hover{background-color:#f90}.navmenu li li a.highlight3,.navmenu li li a.highlight3:active,.navmenu li li a.highlight3:hover{background-color:#000}.navmenu li li a.highlight1,.navmenu li li a.highlight2,.navmenu li li a.highlight3{color:#fff;font-size:15px;margin:5px 0;padding:9px 20px}.site-footer{display:-webkit-box !important;display:-moz-box !important;display:-ms-flexbox !important;display:-webkit-flex !important;display:flex !important;padding-top:5px;width:100%;font-size:11px;color:#999}.site-footer .align-left,.site-footer .align-center,.site-footer .align-right{-webkit-box-flex:1 !important;-moz-box-flex:1 !important;-webkit-flex:1 !important;-ms-flex:1 !important;flex:1 !important}.site-footer .align-left{flex:1 0 100px}.site-footer .align-center{flex:0 1 0%;white-space:nowrap}.site-footer .align-right{flex:1 0 100px}.site-footer .page-width .active{border-bottom:2px solid #f90}.searchbar{padding:0}.searchbar .search{margin-bottom:4px;padding:2px 5px 0;border:1px solid #ccc}.searchbar .search.subdue{color:#ccc}.searchbar input.search{width:190px;border:none;font-size:11px;padding:4px 2px}.searchbar .search-advanced{padding:8px;width:203px;z-index:1000;background-color:#fff;border:solid 1px #ccc;position:absolute;top:-4px;right:0}.search td{background-color:#fff}.article-container-parts{display:-webkit-box !important;display:-moz-box !important;display:-ms-flexbox !important;display:-webkit-flex !important;display:flex !important}.article-container{-webkit-box-flex:1 !important;-moz-box-flex:1 !important;-webkit-flex:1 !important;-ms-flex:1 !important;flex:1 !important;background-color:#fff;color:#111;zoom:1;position:relative;max-width:730px;min-height:675px}.article-container .article{margin:0 20px 0 10px;line-height:143%}.article-container span.stats{margin-left:30px}.article-left-sidebar{width:120px;min-width:120px;min-height:400px;font-size:12px;border-right:1px solid #f2f2f2;padding:0}.article-left-sidebar .article-left-sidebar-inner{width:120px;min-width:120px}.article-left-sidebar .tabs>div{padding:5px 0 5px 10px}.article-left-sidebar .selected{font-weight:bold;background:transparent url("/images/right-selected.gif") no-repeat scroll right 9px}.article-left-sidebar h4{color:#f90;font-size:12px;font-weight:bold}.article-left-sidebar .stats div div div{padding:0 0 10px 10px;color:#666}.article-right-sidebar{width:160px;margin-left:10px;font-size:12px}.article-right-sidebar .gototop{text-align:center;padding:10px 0;opacity:0;-webkit-transition:opacity .3s linear 0ms;-moz-transition:opacity .3s linear 0ms;-o-transition:opacity .3s linear 0ms;transition:opacity .3s linear 0ms}.container-content .edit-links{margin:21px 0 0 10px}.article-summary{padding:0 10px 0 10px;overflow:hidden}.article h1{margin:0 0 15px 0}.article h2{color:#f90}.article pre{overflow:auto}.article .header .title{color:#808080}.article .header .author{font-weight:bold;min-width:100px}.article .header .author a{color:#808080}.article .header .avatar{max-width:48px;max-height:48px;margin-right:10px;overflow:unset}.article .header .date{white-space:nowrap}.article .header .license{margin-left:15px}.article .header .stats{margin-left:30px}.article .share-list{margin-bottom:40px;width:385px;display:inline-block}.article .summary{color:#808080;padding:40px 0 15px 0}.article .text{padding-top:10px}.article-nav{text-align:right;margin-top:21px;vertical-align:middle;line-height:15px}.msg-728x90{width:728px;height:90px;overflow:hidden}.msg-300x250{width:300px;height:250px;overflow:hidden}.msg-160x600{width:160px;height:600px;overflow:hidden}.tags{line-height:190%}.tags .t{background:none repeat scroll 0 0 transparent;border:1px solid transparent;border-radius:12px 0 0 12px;line-height:1.4;padding:0 2px 0 4px;position:relative;text-decoration:none;margin:2px 0 4px 0;white-space:nowrap}.tags .t:hover{background-color:#fff8ba !important;border:1px solid #e5dc8a;text-decoration:none}.tags .t a{color:#666;display:inline-block;margin-right:3px;padding-left:5px;text-overflow:ellipsis}.container-breadcrumb{font-size:12px;margin-top:7px;color:#808080;margin:12px 0 35px}.container-breadcrumb a{color:#808080}.pre-lang{display:-webkit-box !important;display:-moz-box !important;display:-ms-flexbox !important;display:-webkit-flex !important;display:flex !important;background-color:#fbedbb;justify-content:space-between;padding:4px 8px;margin-top:5px;color:#999;border-bottom:solid 1px #ffd044}.code-comment{color:#008000;font-style:italic}.code-keyword{color:#00f}.code-sdkkeyword{color:#399}.code-string{color:#800080}.code-attribute{color:#f00}.code-leadattribute{color:#800000}.code-digit{color:#000080}.pre-action-link{font-size:11px;color:#999}.pre-action-link span{cursor:pointer;margin:0;-webkit-transition:color .1s linear;-moz-transition:color .1s linear;-o-transition:color .1s linear;transition:color .1s linear}.pre-action-link:hover span{color:#005782}.speech-bubble-container-down,.speech-bubble-container-up,.speech-bubble-container-up-right{position:relative}.speech-bubble-up,.speech-bubble-down,.speech-bubble-up-right{padding:.6em;border:1px solid #ccc;background-color:#fff !important;margin:15px;text-decoration:none;font-weight:normal;text-align:left;white-space:normal;color:#333;font-size:11px}.speech-bubble-down{margin-bottom:0}.tooltip .speech-bubble-up,.tooltip .speech-bubble-up-right,.tooltip .speech-bubble-down{-moz-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);-webkit-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);box-shadow:4px 4px 16px 1px rgba(0,0,0,.25)}.speech-bubble-pointer-down,.speech-bubble-pointer-down-inner{width:0;height:0;border-bottom-width:0;background:none}.speech-bubble-pointer-down{border-left:7px solid transparent;border-right:7px solid transparent;border-top:1px solid #ccc;border-top-width:14px;margin-left:35px;margin-bottom:15px;_display:none}.speech-bubble-pointer-down-inner{border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid #fff;margin-left:-5px;margin-top:-16px;position:absolute;_display:none}.speech-bubble-pointer-up,.speech-bubble-pointer-up-right,.speech-bubble-pointer-up-inner,.speech-bubble-pointer-up-right-inner{width:0;height:0;border-top-width:0;background:none}.speech-bubble-pointer-up,.speech-bubble-pointer-up-right{border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:1px solid #ccc;border-bottom-width:14px;margin-left:35px;position:absolute;top:-12px;_display:none}.speech-bubble-pointer-up-inner,.speech-bubble-pointer-up-right-inner{border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:12px solid #fff;margin-left:-5px;margin-bottom:-16px;padding-top:4px;position:absolute;_display:none}.speech-bubble-container-up-right .speech-bubble-pointer-up-right{margin-left:0;margin-right:0;right:35px}.tooltip{position:relative;text-decoration:none}.tooltip .speech-bubble-container-up,.tooltip .speech-bubble-container-down,.tooltip .speech-bubble-container-up-right,.tooltip .tooltip-flyout{display:none;opacity:0;-webkit-transition:opacity .2s linear 0ms;-moz-transition:opacity .2s linear 0ms;-o-transition:opacity .2s linear 0ms;transition:opacity .2s linear 0ms}.tooltip:hover .speech-bubble-container-up,.tooltip:active .speech-bubble-container-up,.tooltip:hover .speech-bubble-container-down,.tooltip:active .speech-bubble-container-down,.tooltip:hover .speech-bubble-container-up-right,.tooltip:active .speech-bubble-container-up-right,.tooltip:hover .tooltip-flyout,.tooltip:active .tooltip-flyout{display:block;z-index:16777271;opacity:1;-webkit-transition:opacity .2s linear 0ms;-moz-transition:opacity .2s linear 0ms;-o-transition:opacity .2s linear 0ms;transition:opacity .2s linear 0ms}.tooltip:hover .speech-bubble-container-up,.tooltip:active .speech-bubble-container-up{left:-35px}.tooltip:hover .speech-bubble-container-up-right,.tooltip:active .speech-bubble-container-up-right{right:-25px}.tooltip:hover .speech-bubble-container-up,.tooltip:active .speech-bubble-container-up,.tooltip:hover .speech-bubble-container-up-right,.tooltip:active .speech-bubble-container-up-right{text-decoration:none !important;position:absolute;width:150px;color:#000 !important;cursor:text}.tooltip:hover .speech-bubble-container-down,.tooltip:active .speech-bubble-container-down{text-decoration:none !important;position:absolute;left:-35px;bottom:0;width:150px;color:#000 !important;cursor:text}.tooltip:hover .tooltip-flyout,.tooltip:active .tooltip-flyout,.tooltip:hover .speech-bubble-container-up-right .speech-bubble-pointer-up-right,.tooltip:active .speech-bubble-container-up-right .speech-bubble-pointer-up-right,.tooltip:hover .speech-bubble-container-up .speech-bubble-pointer-up,.tooltip:active .speech-bubble-container-up .speech-bubble-pointer-up{top:1px}.tooltip:hover .speech-bubble-container-down .speech-bubble-pointer-down,.tooltip:active .speech-bubble-container-down .speech-bubble-pointer-down{bottom:3px}a:hover.tooltip{text-decoration:none !important}.tooltip-flyout{position:relative;border:1px solid #ccc;color:#666;background-color:#fff;margin:15px;z-index:2147483646;white-space:normal;font-weight:normal;text-align:left;cursor:text;width:175px;-moz-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);-webkit-box-shadow:4px 4px 16px 1px rgba(0,0,0,.25);box-shadow:4px 4px 16px 1px rgba(0,0,0,.25)}.tooltip:hover .tooltip-flyout,.tooltip:active .tooltip-flyout{position:absolute;left:-16px;top:0;display:block}.bottom-promo{height:90px;margin-top:10px;overflow:hidden}.bottom-promo .msg-728x90{width:728px;margin:0 auto}.msg-728x90{overflow:hidden;position:relative;height:90px;min-width:728px}body .msg-728x90{*float:right}body .bottom-promo .msg-728x90{*float:none}table.forum{table-layout:fixed;margin:0 0 20px 0;padding:0 !important;width:100%}.forum table{border-collapse:separate}.forum .header1,.forum .header1 TD{color:#333;font-size:12px;vertical-align:middle}.forum .header2,.forum .header2 TD{color:#fff;background-color:#f90;font-size:12px;vertical-align:middle}.forum .header2 input,.forum .header2 TD input,.forum .header2 select,.forum .header2 TD select{padding:2px}.forum .button{border:1px solid #fc6;margin:1px}.forum .searchbar{border:1px solid #ccc;padding:4px 0 0 0;margin:3px 0}.forum .searchbar .search{width:200px}.forum .searchbar input[type=image]{vertical-align:middle}.forum .signature{border-top:solid 1px #ccc;padding-top:0;margin-top:10px;max-height:150px;overflow:auto}.forum .dropdown{background-color:#fffdfa;font-size:95%;margin-left:5px}.forum .footer,.forum .footer td,.forum .navbar,.forum .navbar td{font-size:12px;padding:8px 0;border:0;border-top:1px solid #808080}.forum .footer .rating-result{white-space:nowrap;margin-right:15px}.forum .nav-link{color:#333;padding:1px 4px}.forum .nav-link:hover{color:#fff !important;background-color:#f90;text-decoration:none}.forum .nav-link.selected{color:#f90;font-weight:bold}.forum .nav-link.selected:hover{color:#f90 !important;background-color:transparent}.forum .nav-link.disabled{color:#808080}.forum .nav-link.disabled:hover{color:#808080 !important;background-color:transparent}.root .subject-line td{font-weight:bold}.root td.subject-line{border-top:1px dotted #f90}.selected.content>td{background-color:#fff9e2 !important}.subject-line{border-bottom:1px solid #f2f2f2;background-color:transparent;overflow:hidden}.subject-line tr,.subject-line td{background-color:inherit}.subject-line .indent{vertical-align:top;text-align:right;padding:8px 0;background-color:#fff;position:relative}.subject-line .indent img{margin-right:4px}.subject-line .subject{vertical-align:top;text-align:left;padding:5px 0 7px 5px;font-size:14px}.subject-line .subject a{color:#005782}.subject-line .icon{vertical-align:top;width:20px;white-space:nowrap;padding:8px 0}.subject-line .author{vertical-align:top;text-align:left;width:140px;padding:8px 0 8px 2px;overflow:hidden}.subject-line .author a{color:#333;text-overflow:ellipsis;font-size:12px}.subject-line .date{vertical-align:top;text-align:right;width:130px !important;white-space:nowrap;padding:8px 0;color:#333;font-size:12px}.content>td{border-bottom:1px solid transparent}.content td.text{padding:7px}.content td.text a{word-break:break-all}.content a{color:#005782}.content .parent{float:right;margin:0 0 10px 10px}.content .footer:hover a{color:#069;-webkit-transition:color .1s linear;-moz-transition:color .1s linear;-o-transition:color .1s linear;transition:color .1s linear}.content .footer:hover td{color:#808080;-webkit-transition:color .1s linear;-moz-transition:color .1s linear;-o-transition:color .1s linear;transition:color .1s linear}.content .indent{background-color:#fff}.content .footer,.content .footer td{color:#808080;background-color:transparent;padding:15px 0 3px 0;font-size:12px;border:0;line-height:24px}.content .footer a,.content .footer td a{color:#808080;border:solid 1px transparent;_border:solid 1px white;padding:1px}.content .footer a:hover,.content .footer td a:hover{border:solid 1px #f90;color:#069}.content img{max-width:100%;height:auto}.vote-hi,.vote-hi a{color:#006400 !important}.author-wrapper{position:relative;padding:0 0 0 200px;min-height:185px}.author-wrapper .pic-wrapper{position:absolute;left:0;top:5px}.author-wrapper .profile-pic{border:1px solid #333;margin:0;padding:10px;-moz-box-shadow:3px 3px 5px 1px rgba(0,0,0,.2);-webkit-box-shadow:3px 3px 5px 1px rgba(0,0,0,.2);box-shadow:3px 3px 5px 1px rgba(0,0,0,.2)}.author-wrapper .description{padding:15px 15px 0 0}.author-wrapper .container-member .author{font-size:22px;color:#333}.author-wrapper .container-member .company{font-size:14px;color:#808080}.member-signin{font-size:12px}.member-signin input[type="email"],.member-signin input[type="password"],.member-signin input[type="button"],.member-signin input[type="submit"]{border:1px solid #ccc;padding:4px;width:190px;margin-bottom:10px}.member-signin .create,.member-signin .signin{margin:15px 2px 10px;text-align:center;width:94px !important;cursor:pointer}.member-signin .create{background-color:#98ca47;color:#fff;font-weight:bold}.member-signin .signin{background-color:#f90;color:#fff}.member-signin .oauth{display:inline;padding:10px 1px 4px 0}.member-signin .divider-dark{margin:20px 0 13px;color:#ccc;background-color:#ccc}.member-signin .forgot{padding:0}.member-signin a.forgot{color:#808080}.member-signin .forgot:hover{color:#808080;background-color:#fff}.member-signin.tooltip>span{border:1px solid transparent;padding:2px 6px 4px 6px;z-index:503}.member-signin.tooltip:hover>span{border:1px solid #ccc;border-bottom:none;position:relative;background-color:#fff}.member-signin.tooltip:hover .tooltip-flyout,.member-signin.tooltip:active .tooltip-flyout{z-index:502 !important;opacity:1;-webkit-transition:opacity .1s linear 0ms;-moz-transition:opacity .1s linear 0ms;-o-transition:opacity .1s linear 0ms;transition:opacity .1s linear 0ms}.member-signin.tooltip .tooltip-flyout{border:1px solid #ccc;border-bottom:5px solid #f90;padding:10px;width:200px;position:absolute;top:3px !important;left:-163px !important;background-color:#fff}.rating-container .rating-prompt{padding-right:5px;white-space:nowrap;line-height:25px;margin-right:2px;font-weight:bold;color:#808080}.rating-container .rating-votes{margin-left:5px}.rating-container.large-stars{margin-left:7px}.rating-container.large-stars .rating-votes,.rating-container.large-stars .rating-prompt{line-height:25px}.rating-container .histogram{min-height:60px;display:block}@media(min-width:1024px){.desktop-only{display:inherit}.tablet-only{display:none}.mobile-only{display:none}.desktop-only.tablet-only{display:inherit !important}}@media(min-width:800px) and (max-width:1023px){.article-container-parts .article-container{max-width:100% !important}.article-container-parts .article-left-sidebar{display:none}.article-container-parts .article{margin:0 !important}}@media(min-width:757px) and (max-width:800px){.article-container-parts .article-container{max-width:100% !important}.article-container-parts .article-left-sidebar{display:none}.article-container-parts .article-right-sidebar{display:none}.article-container-parts .article{margin:0 !important}.article-container-parts .bottom-promo{display:none;overflow:hidden}.article-container-parts .bottom-promo .msg-728x90{position:absolute !important}}@media(max-width:756px){.article-container-parts .article-container{max-width:100% !important}.article-container-parts .article{margin:0 !important}.article-container-parts .article h1{margin-right:55px !important}.article-container-parts .article-left-sidebar{display:none}.article-container-parts .article-right-sidebar{display:none}.article-container-parts .bottom-promo{display:none}.author-wrapper{padding-left:0 !important;float:left !important}.author-wrapper .description{padding-top:15px;float:left}.author-wrapper .pic-wrapper{position:relative !important;left:0;top:0;margin:0 30px 20px 0;float:left}.author-wrapper .profile-pic{margin-left:0;width:auto;max-width:160px}}@media(min-width:769px){.tablet-only,.mobile-only{display:none}.tablet-only.desktop-only{display:inherit !important}}@media(min-width:576px) and (max-width:768px){.desktop-only{display:none}.tablet-only{display:inherit}.mobile-only{display:none}.desktop-only.tablet-only{display:inherit !important}.navmenu>li{margin:0 4px !important}.site-top-menu{position:relative !important}.site-top-menu .memberbar,.site-top-menu .memberbar a{height:auto;margin-bottom:5px}.site-top-menu .memberbar{padding:0 5px !important;margin:0 !important;line-height:25px}.site-top-menu .member-signin.tooltip>span{background:none}}@media(max-width:575px){.desktop-only{display:none !important}.tablet-only{display:none !important}.mobile-only{display:inherit !important}img{max-width:100%;height:auto}.article .share-list{width:100% !important}.forum .header2{display:none}.forum .subject-line td.author{width:1px}.forum .subject-line td.date{width:1px !important}.forum .subject-line .indent img{display:none}.forum .subject-line .icon img{display:none}.forum .subject-line .author span{display:none}.forum .subject-line .date span{display:none}.forum .subject-line .author{color:#808080;font-weight:bold}.forum .subject-line .date{font-size:inherit;width:auto;padding:0;margin-left:15px;color:#808080}.forum .searchbar .search{width:180px !important;font-size:14px !important}.forum .footer .last-visit{display:none}.article .header .stats{display:none}.article-nav{z-index:100;margin-top:10px !important;width:auto !important}.article-container{word-break:break-word;-ms-word-break:break-word}.navmenu>li{margin:0 4px !important}div.navbar{padding:5px 0}.container-breadcrumb{display:none}.container-content .edit-links{display:none}.site-top-menu{position:relative !important}.site-top-menu .memberbar,.site-top-menu .memberbar a{height:auto;margin-bottom:5px}.site-top-menu .memberbar{padding:0 5px !important;margin:0 !important;line-height:25px}.site-top-menu .member-signin.tooltip>span{background:none}.author-wrapper .container-member{float:left}.site-header{margin-top:-22px !important;overflow:unset;height:132px}.site-header .main-content{position:absolute;left:0}.searchbar .search{width:100% !important}.memberbar .create,.memberbar .signin{width:90px !important}.memberbar .tooltip-flyout{top:6px !important}.msg-728x90{display:none}.msg-300x250{display:none}.msg-160x600{display:none}}@media print{pre{overflow-x:auto;white-space:pre-wrap;white-space:-moz-pre-wrap !important;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}body,p,h1,h2,h4,li,tr,td{font-family:"Segoe UI",Arial,Sans-Serif;font-size:12px;line-height:1.4;color:#111}h1{font-size:27px;font-weight:200}h2{font-size:27px;font-weight:200}h4{font-size:16px}}.rrssb-buttons,.rrssb-buttons li,.rrssb-buttons li a{-moz-box-sizing:border-box;box-sizing:border-box}.clearfix{*zoom:1}.clearfix:after{clear:both}.clearfix:before,.clearfix:after{content:" ";display:table}.rrssb-buttons{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;height:40px;margin:0;padding:0;width:100%}.rrssb-buttons li{float:left;height:100%;list-style:none;margin:0;padding:0 2.5px;line-height:13px}.rrssb-buttons li.email a{background-color:#0a88ff}.rrssb-buttons li.email a:hover{background-color:#006ed6}.rrssb-buttons li.facebook a{background-color:#306199}.rrssb-buttons li.facebook a:hover{background-color:#244872}.rrssb-buttons li.linkedin a{background-color:#007bb6}.rrssb-buttons li.linkedin a:hover{background-color:#005983}.rrssb-buttons li.twitter a{background-color:#26c4f1}.rrssb-buttons li.twitter a:hover{background-color:#0eaad6}.rrssb-buttons li.reddit a{background-color:#8bbbe3}.rrssb-buttons li.reddit a:hover{background-color:#62a3d9}.rrssb-buttons li.pinterest a{background-color:#b81621}.rrssb-buttons li.pinterest a:hover{background-color:#8a1119}.rrssb-buttons li.compact{padding:0 4.5px}.rrssb-buttons li.compact a{border-radius:50%;padding:0 7px 0 32px}.rrssb-buttons li.compact a .icon{left:7px;top:-3px;width:5%;transform:scale(.85)}.rrssb-buttons li.compact a .icon svg{height:auto;width:auto}.rrssb-buttons li a{background-color:#ccc;border-radius:3px;display:block;font-size:11px;font-weight:bold;height:100%;padding:11px 7px 12px 27px;position:relative;text-align:center;text-decoration:none;text-transform:uppercase;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:100%;-webkit-transition:background-color .2s ease-in-out;-moz-transition:background-color .2s ease-in-out;-o-transition:background-color .2s ease-in-out;transition:background-color .2s ease-in-out}.rrssb-buttons li a .icon{display:block;height:100%;left:10px;padding-top:9px;position:absolute;top:0;width:10%}.rrssb-buttons li a .icon svg{height:17px;width:17px}.rrssb-buttons li a .icon svg path{fill:#fff}.rrssb-buttons li a:active{box-shadow:inset 1px 3px 15px 0 rgba(22,0,0,.25)}.cc-window{opacity:1;background-color:#f90}.cc-animate.cc-revoke.cc-bottom{transform:translateY(2em)}.cc-revoke:hover{transform:translateY(0)}.cc-window,.cc-revoke{position:fixed;overflow:hidden;box-sizing:border-box;font-family:"Segoe UI",Arial,Sans-Serif;font-size:13px;line-height:1.5em;display:flex;flex-wrap:nowrap;z-index:9999}.cc-window.cc-banner{padding:.7em 1.8em;width:100%;flex-direction:row}.cc-revoke{padding:.5em}.cc-revoke:hover{text-decoration:underline}.cc-btn,.cc-link,.cc-revoke{cursor:pointer}.cc-link{opacity:.8;display:inline-block;padding:.2em;text-decoration:underline}.cc-link:hover{opacity:1}.cc-link:active,.cc-link:visited{color:initial}.cc-btn{display:block;padding:.4em .8em;font-size:.9em;font-weight:bold;border-width:2px;border-style:solid;text-align:center;white-space:nowrap}.cc-banner .cc-btn:last-child{min-width:110px;margin-left:10px}.cc-highlight .cc-btn:first-child{background-color:transparent;border-color:transparent}.cc-highlight .cc-btn:first-child:hover,.cc-highlight .cc-btn:first-child:focus{background-color:transparent;text-decoration:underline}.cc-revoke.cc-bottom{bottom:0;left:3em;border-top-left-radius:.5em;border-top-right-radius:.5em}.cc-bottom{bottom:1em}.cc-window.cc-banner{align-items:center}.cc-banner.cc-bottom{left:0;right:0;bottom:0}.cc-banner .cc-message{flex:1}.cc-compliance{display:flex;align-items:center;align-content:space-between}.cc-compliance>.cc-btn{flex:1}.cc-btn+.cc-btn{margin-left:.5em}@media print{.cc-window,.cc-revoke{display:none}}@media screen and (max-width:900px){.cc-btn{white-space:normal}}@media screen and (max-width:414px) and (orientation:portrait),screen and (max-width:736px) and (orientation:landscape){.cc-window.cc-bottom{bottom:0}.cc-window.cc-banner{left:0;right:0}.cc-window.cc-banner{flex-direction:column}.cc-window.cc-banner .cc-compliance{flex:1}.cc-window .cc-message{margin-bottom:1em}.cc-window.cc-banner{align-items:unset}}
/*! CSS Used from: Embedded */
.cc-color-override--316233370.cc-window{color:#000;background-color:#f90}.cc-color-override--316233370.cc-revoke{color:#000;background-color:#f90}.cc-color-override--316233370 .cc-link,.cc-color-override--316233370 .cc-link:active,.cc-color-override--316233370 .cc-link:visited{color:#000}.cc-color-override--316233370 .cc-btn{color:#000;border-color:transparent;background-color:#f5d948}.cc-color-override--316233370 .cc-btn:hover,.cc-color-override--316233370 .cc-btn:focus{background-color:#ffff6e}.cc-color-override--316233370 .cc-highlight .cc-btn:first-child{color:#000}
</style>
<link rel="stylesheet" type="text/css" href="https://www.codeproject.com/App_Themes/CodeProject/Css/Main.min.css?dt=2.8.20210514.1" media="none" onload="if(media!='all')media='all'">
<noscript><link rel="stylesheet" type="text/css" href="https://www.codeproject.com/App_Themes/CodeProject/Css/Main.min.css?dt=2.8.20210514.1"></noscript>


    <script type="text/javascript" src="https://www.codeproject.com/script/JS/jquery-3.4.1.min.js" defer ></script>
<script type="text/javascript" src="https://www.codeproject.com/script/Articles/JS/article.min.js?dt=2.8.20210514.1" defer ></script>
<script type="text/javascript" src="https://accounts.google.com/gsi/client" defer  async ></script>
<script type="text/javascript" src="/script/JS/advertisement.min.js" defer ></script>
<script type="text/javascript" src="/script/Membership/JS/MemberProfilePopup.min.js?v=1.4" defer ></script>
<script type="text/javascript" src="/a.min.js?v=1.3" defer ></script>

	
<meta http-equiv="content-language" content="en-US">
<meta charset="UTF-8">
<meta name="Description" content="An article on reading file sectors directly from disk using logical offsets">
<meta name="Keywords" content="C, Windows, Advanced">
<meta name="Author" content="Armen Hakobyan">
<meta name="Rating" content="General">
<meta name="Revisit-After" content="1 days">
<meta name="application-name" content="CodeProject">
<meta name="google-translate-customization" content="d908bb7ce7aff658-4c2f3a504525c916-g629383f736781a8a-13">

<link rel="dns-prefetch" href="//ajax.googleapis.com"> 
<link rel="canonical" href="https://www.codeproject.com/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@CodeProject" />
<meta name="og:site_name" content="CodeProject" />
<meta name="twitter:creator" content="@CodeProject" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="1/1/2009 1:08:00 PM" />
<meta property="article:modified_time" content="1/8/2009 7:53:00 AM" />
<meta name="twitter:label1" content="Written by">
<meta name="twitter:data1" content="Armen Hakobyan">
<meta name="twitter:label2" content="Reading time">
<meta name="twitter:data2" content="5 min read">
<meta property="og:url" content="https://www.codeproject.com/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin" />
<meta property="og:title" content="FDump - Dumping File Sectors Directly from Disk using Logical Offsets" />
<meta property="og:description" content="An article on reading file sectors directly from disk using logical offsets" />
<meta property="og:image" content="https://www.codeproject.com/KB/files/FDump/Thumb-32169.gif" />
<meta name="twitter:image" content="https://www.codeproject.com/KB/files/FDump/Thumb-32169.gif" />

<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All Topics" href="https://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=1" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Artificial Intelligence" href="https://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=31" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="https://www.codeproject.com/webservices/LoungeRSS.aspx" />
<meta name="robots" content="index, follow" />

<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="https://www.codeproject.com/info/OpenSearch.xml">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-touch-icon.png"> 
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"> 
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"> 
<link rel="manifest" href="/favicon/manifest.json"> 
<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#ff9900">
	<script type='application/ld+json'>{
  "@context": "http://schema.org",
  "@type": "TechArticle",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.codeproject.com/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin"
   },
  "name": "FDump - Dumping File Sectors Directly from Disk using Logical Offsets",
  "headline": "FDump - Dumping File Sectors Directly from Disk using Logical Offsets",
  "url": "https://www.codeproject.com/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin",
  "discussionUrl": "https://www.codeproject.com/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin#_comments",
  "isFamilyFriendly": "true",
  "image": "https://www.codeproject.com/KB/files/FDump/Thumb-32169.gif",
  "keywords": "C,Windows,Advanced",
  "commentCount": "9",
  "editor" : {
    "@type" : "Person",
    "name" : "Deeksha Shenoy",
    "url" : "https://www.codeproject.com/script/Membership/View.aspx?mid=3866010"
  },
  "license": "http://www.codeproject.com/info/cpol10.aspx",
  "publisher" : {
    "@type" : "Organization",
    "name" : "CodeProject"
  },
  "description": "An article on reading file sectors directly from disk using logical offsets",
  "articleSection": "C",
  "author" : [{
      "@type" : "Person",
      "name" : "Armen Hakobyan",
      "url" : "https://www.codeproject.com/script/Membership/View.aspx?mid=25653"
    }],
  "datePublished": "2009-01-01",
  "dateCreated": "2009-01-01",
  "dateModified": "2009-01-08"
,
  "contentRating" : {
    "@type" : "Rating",
    "ratingValue" : 4.89,
    "bestRating" : 5,
    "worstRating" : 1
  }
}</script>

<script type='application/ld+json'>{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
    "@type": "ListItem",
    "position": 1,
    "item" : {
      "@id" : "/script/Content/Tag.aspx?tags=Languages",
      "name" : "Programming Languages"
    }
  },{
    "@type": "ListItem",
    "position": 2,
    "item" : {
      "@id" : "/script/Content/Tag.aspx?tags=C",
      "name" : "C"
    }
  }]
}</script>


	<base target="_top" />
	
    


<script type='text/javascript'>
function defrm () { /* thanks twitter */
    document.write = '';
    window.top.location = window.self.location;
    setTimeout(function() { document.body.innerHTML = ''; }, 0);
    window.self.onload = function(evt) { document.body.innerHTML = ''; };
}

if (window.top !== window.self) {
    try {
        if (window.top.location.host) { /* will throw for all except chrome */ }
        else { defrm(); /* chrome */ }
    } catch (ex) { defrm(); /* everyone else */ }
}

// Specific case where a site is screwing with us.
if (typeof(DemoUrl) !== 'undefined') {
    document.write(unescape('%3Cme') + 'ta http' + '-equiv="re' + 'fresh con' +
                           'tent="1;url=' + DemoUrl + unescape('"%3CE'));
}
</script>
	





<!-- Global site tag (gtag.js) - Google Analytics -->
    <script async type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=UA-1735123-1"></script>
    <script type="text/javascript">
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-1735123-1' );
    </script>


</head>	

<body class="firefox firefox23">

	<div id="ctl00_OneTap_OneTap">
    <div id="g_id_onload" 
         data-client_id="857795997829.apps.googleusercontent.com"
         data-login_uri="/script/Membership/OAuthLogOn.aspx?auth=Google">
    </div>
</div>



	<a class="access-link" href="#Main"><img alt="Click here to Skip to main content" src="https://www.codeproject.com/images/t.gif" /></a>




<div class="page-background">

	
	

	

	
    <div id="ctl00_STM" class="site-top-menu fixed">
        <div class="main-content">
            

<div class="container memberbar clearfix flex-container flex-extend">

	<div id="ctl00_MemberBar_GenInfo" class="flex-item align-left">14,890,148 members</div>

	<div class="flex-item">
		
	</div>

	<div class="flex-item align-right">

		

		

		

			<script type="text/javascript">//<!--
			function doSubmit(secure)
			{
				if (secure)
					document.signinForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin"
				else
					document.signinForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin"
				document.signinForm.submit();
				return true;
			}//-->
			</script>

			<a name="SignUp"></a>
			<span class="member-signin tooltip openable">
				<span><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign in</a>
                    <img src="https://www.codeproject.com/App_Themes/CodeProject/Img/login32.png"
                        width="16px" height="16px" style="vertical-align:middle;"/>
				</span>

				<div class="tooltip-flyout">
					<form name="signinForm" id="signinForm" action="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin" method="post"
						class="tight">

						
						<input id="FormName" name="FormName" value="MenuBarForm" type="hidden" />

						<div>Email</div>
						<div><input class="small-text" type="email" name="Email" id="Email" autocomplete="email" /></div>
						<div>Password</div>
						<div><input class="small-text" type="password" name="Password" id="Password" 
							autocomplete="current-password" /></div>
						<div class="action">
                            <input id='joinBtn' type='button' class='create hidden' onclick='return Join();' value='Join' />
                            <input type='hidden' name='fld_quicksign' value='true' />
							<input type="submit" value="Sign in" class="signin" onclick="return doSubmit(false);" />
						</div>

						<div class="container">
							
							&nbsp;
							<a id="ctl00_MemberBar_SendPassword" class="forgot float-right" href="/script/Membership/SendPassword.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Forgot your password?</a>
						</div>
					</form>

					<hr class="divider-dark" />

					Sign in with <a class="oauth" alt="Sign in using Github" title="Sign in using Github" href="/script/Membership/OAuthLogOn.aspx?auth=GitHub"><img src="/script/Membership/Images/octicons_github.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>
<a class="oauth" alt="Sign in using Facebook" title="Sign in using Facebook" href="/script/Membership/OAuthLogOn.aspx?auth=Facebook"><img src="/script/Membership/Images/facebook.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>
<a class="oauth" alt="Sign in using Google" title="Sign in using Google" href="/script/Membership/OAuthLogOn.aspx?auth=Google"><img src="/script/Membership/Images/google-plus.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>
<a class="oauth" alt="Sign in using Microsoft" title="Sign in using Microsoft" href="/script/Membership/OAuthLogOn.aspx?auth=Microsoft"><img src="/script/Membership/Images/microsoft.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>

				</div>
            </span>
		
	</div>
</div>
        </div>
    </div>

	
    <div id="ctl00_SH" class="site-header fixed">
        <div class="main-content">
            <div class="logo"><a href="/"><img id="ctl00_Logo" tabindex="1" title="CodeProject" src="https://www.codeproject.com/App_Themes/CodeProject/Img/logo250x135.gif" alt="Home" style="height:135px;width:250px;border-width:0px;" /></a></div>
            <div class="promo"><div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Programming-LanguagesC"  data-country='US' data-tags='C, Windows, Advanced,rating4.5'><noscript><a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=728x90&c=102001"><img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=728x90&c=102001"  width="728px" height="90px" target="_blank"/></a></noscript></div></div>
        </div>
    </div>

	
	<div id="ctl00_TPR" class="sub-headerbar clearfix fixed">
    <div class="float-right">
		

<div class="searchbar">

<form method="get" action="/search.aspx?sbo=kw" name="Search" class="tight">


<table border="0" cellspacing="0" cellpadding="0" class="search"><tr><td><input TabIndex="2" class="search " id="sb_tb" autocomplete="off" value="" name="q" /></td><td><input type="image" src="https://www.codeproject.com/images/search.gif" /></td></tr></table>

<div class="hover-container">
	<div id="SearchFilter" class="search-advanced popup small-text align-left">
	<b>Search within:<br /></b>
		
		<input type="radio" id="sb_kw" name="sbo" value="kw" checked="checked"><label for="sb_kw">Articles</label><br>
<input type="radio" id="sb_qa" name="sbo" value="qa"><label for="sb_qa">Quick Answers</label><br>
<input type="radio" id="sb_fm" name="sbo" value="fm"><label for="sb_fm">Messages</label><br>


		
		

		
		
	</div>
</div>
</form>

</div>
    </div>
    <div class="float-left">
		

<div class="navbar clearfix">
<ul class="navmenu openable">

<li class="desktop-only"><a id="ctl00_TopNavBar_Home" href="https://www.codeproject.com">home</a>


<li class="openable"><a id="ctl00_TopNavBar_Art" class="down selected" href="/script/Articles/Latest.aspx">articles</a>

	<ul>
		<li class="openable"><a id="ctl00_TopNavBar_ArtTopicList" class="fly" onmouseover="navBarMenu.ShowMap(this, &#39;ctl00_TopNavBar_MapFlyout&#39;);" href="/script/Content/SiteMap.aspx">Browse Topics<span class="has-submenu">&gt;</span></a><ul id="ctl00_TopNavBar_MapFlyout" class="taxonomy">
			<li>
				<div id="siteMap"></div>
			</li>
			</ul>
		</li>
		<li><a id="ctl00_TopNavBar_ArtLatestArts" class="fly" href="/script/Articles/Latest.aspx">Latest Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtTop" class="fly" href="/script/Articles/TopArticles.aspx?ta_so=5">Top Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtGuide" class="fly" href="/info/Submit.aspx">Posting/Update Guidelines</a></li>
		<li><a id="ctl00_TopNavBar_ArtHelpForum" class="fly" href="/Forums/1641/Article-Writing">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostArticle" class="fly highlight1" href="/script/Articles/Submit.aspx">
			<img src="https://www.codeproject.com/images/write13.png" width="13" height="13" /> Submit an article or tip
			</a></li>
        
		<li><a id="ctl00_TopNavBar_ArtImportGitHub" class="fly highlight3" href="/script/Articles/ImportArticle.aspx">
			<img src="https://www.codeproject.com/images/write13.png" width="13" height="13" /> Import GitHub Project
			</a></li>
        
		<li><a id="ctl00_TopNavBar_ArtPostBlog" class="fly highlight2" href="/script/Articles/BlogFeed.aspx">
			<img src="https://www.codeproject.com/images/write13.png" width="13" height="13" /> Import your Blog
			</a></li>		
        
        <li class="last"></li>
	</ul>

</li>



<li class="openable">
<a id="ctl00_TopNavBar_Answers" href="/script/Answers/List.aspx?tab=active">
    <span class="desktop-only tablet-only">quick answers</span><span class="mobile-only">Q&amp;A</span>
</a>
	<ul>
		<li id="ctl00_TopNavBar_AQL"><a id="ctl00_TopNavBar_ArticleQuestion" class="fly highlight1" href="#_comments">
			<img src="https://www.codeproject.com/images/write13.png" width="13" height="13" /> Ask a Question about this 
			article</a>
		</li>

		<li><a id="ctl00_TopNavBar_QAAsk" class="fly highlight2" href="/Questions/ask.aspx"><img 
			src="https://www.codeproject.com/images/write13.png" width="13" height="13" /> Ask a Question</a></li>

		<li><a id="ctl00_TopNavBar_QAUnanswered" class="fly" href="/script/Answers/List.aspx?tab=unanswered">View Unanswered Questions</a></li>
		<li><a id="ctl00_TopNavBar_QALatest" class="fly" href="/script/Answers/List.aspx?tab=active">View All Questions</a></li>
        
				<li><a id="ctl00_TopNavBar_QATR_ctl00_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=81" style="padding-left:30px">View C# questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl01_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=78" style="padding-left:30px">View C++ questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl02_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=83" style="padding-left:30px">View Visual&nbsp;Basic questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl03_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=87" style="padding-left:30px">View Javascript questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl04_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;amp;alltags=true&amp;amp;tags=268" style="padding-left:30px">View Python questions</a></li>
			
    
		<li class="last"></li>
	</ul>

</li>



<li class="openable"><a id="ctl00_TopNavBar_Forums" href="/script/Forums/List.aspx">
        <span class="desktop-only tablet-only">discussions</span><span class="mobile-only">forums</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_MessageBoardsAll" class="fly" href="/script/Forums/List.aspx">All Message Boards...</a></li>
		<li class="openable"><a class="fly" style="padding-left:30px" href="/Forums/1580997/Application-Lifecycle">Application Lifecycle<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="/Forums/1533717/Running-a-Business">Running a Business</a></li>
<li><a class="fly" href="/Forums/1533716/Sales-Marketing">Sales / Marketing</a></li>
<li><a class="fly" href="/Forums/1651/Collaboration-Beta-Testing">Collaboration / Beta Testing</a></li>
<li><a class="fly" href="/Forums/3304/Work-Issues">Work  Issues</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="/Forums/369270/Design-and-Architecture">Design and Architecture</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1969389/Artificial-Intelligence">Artificial Intelligence</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/12076/ASP-NET">ASP.NET</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1580226/JavaScript">JavaScript</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1969388/Internet-of-Things">Internet of Things</a>
</li>
<li class="openable"><a class="fly" style="padding-left:30px" href="/Forums/1647/C-Cplusplus-MFC">C / C++ / MFC<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="/Forums/4486/ATL-WTL-STL">ATL /  WTL / STL</a></li>
<li><a class="fly" href="/Forums/3785/Managed-Cplusplus-CLI">Managed C++/CLI</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1649/Csharp">C#</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1627782/Free-Tools">Free Tools</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1827460/Objective-C-and-Swift">Objective-C and Swift</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1725/Database">Database</a>
</li>
<li class="openable"><a class="fly" style="padding-left:30px" href="/Forums/186301/Hardware-Devices">Hardware &amp; Devices<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="/Forums/1644/System-Admin">System Admin</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1606152/Hosting-and-Servers">Hosting and Servers</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1643/Java">Java</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1942421/Linux-Programming">Linux Programming</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1650/NET-Core-and-Framework">.NET (Core and Framework)</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1848626/Android">Android</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1876716/iOS">iOS</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/13695/Mobile">Mobile</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1004257/WPF">WPF</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1646/Visual-Basic">Visual Basic</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1640/Web-Development">Web Development</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/suggestions.aspx">Site Bugs / Suggestions</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1652005/Spam-and-Abuse-Watch">Spam and Abuse Watch</a>
</li>

		<li class="last"></li>
	</ul>

</li>

<li class="openable"><a id="ctl00_TopNavBar_Features" href="/Feature/">
      <span class="desktop-only tablet-only">features</span><span class="mobile-only">stuff</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_Comps" class="fly" href="/script/Contests/CurrentCompetitions.aspx?cmpTpId=3&amp;amp;awsac=true">Competitions</a></li>
        
		<li><a id="ctl00_TopNavBar_Conferences" class="fly" href="/script/Conferences/List.aspx">Conferences</a></li>
		
		<li><a id="ctl00_TopNavBar_News" class="fly" href="/script/News/List.aspx">News</a></li>
		<li><a id="ctl00_TopNavBar_Insider" class="fly" href="/Feature/Insider/">The Insider Newsletter</a></li>
    	<li><a id="ctl00_TopNavBar_DailyBuild" class="fly" href="/Feature/DailyBuild">The Daily Build Newsletter</a></li>
		<li><a id="ctl00_TopNavBar_Newsletters" class="fly" href="/script/Mailouts/Archive.aspx?mtpid=1">Newsletter archive</a></li>
		<li><a id="ctl00_TopNavBar_Surveys" class="fly" href="/script/Surveys/List.aspx">Surveys</a></li>
		<li><a id="ctl00_TopNavBar_Showcase" class="fly" href="/KB/showcase/">Product Showcase</a></li>
        
		<li><a id="ctl00_TopNavBar_Stuff" class="fly" href="/Info/Stuff.aspx">CodeProject Stuff</a></li>
		<li class="last"></li>
	</ul>

</li>


<li  class="openable"><a id="ctl00_TopNavBar_Lounge" href="/Lounge.aspx">
            <span class="desktop-only tablet-only">community</span><span class="mobile-only">lounge</span>
</a>

	<ul>
		<li><a id="ctl00_TopNavBar_WhosWho" class="fly" href="/script/Membership/Profiles.aspx">Who's Who</a></li>
		<li><a id="ctl00_TopNavBar_MVPs" class="fly break" href="/script/Contests/Winners.aspx?obtid=1&amp;amp;cmpTpId=2&amp;amp;cid=0">Most Valuable Professionals</a></li>

		<li><a id="ctl00_TopNavBar_LoungeLnk" class="fly highlight2" href="/Lounge.aspx">The Lounge </a></li>
		<li><a id="ctl00_TopNavBar_WhereAmILink" class="fly" href="/Forums/1939564/Where-I-am-Member-Photos">Where I Am: Member Photos</a></li>
		<li><a id="ctl00_TopNavBar_InsiderLnk" class="fly" href="/Insider.aspx">The Insider News</a></li>
		<li><a id="ctl00_TopNavBar_WeirdWonderful" class="fly" href="/Feature/WeirdAndWonderful.aspx">The Weird & The Wonderful</a></li>

		<li class="last"></li>
	</ul>

</li>


<li class="openable" style="margin-left:20px"><a id="ctl00_TopNavBar_Help" href="/KB/FAQs/">
    <span class="desktop-only tablet-only">help</span><span class="mobile-only">?</span>
</a>


	<ul>
		<li><a id="ctl00_TopNavBar_HelpWhatIs" class="fly" href="/info/guide.aspx">What is 'CodeProject'?</a></li>
		<li><a id="ctl00_TopNavBar_HelpGeneral" class="fly break" href="/KB/FAQs/">General FAQ</a></li>
		<li><a id="ctl00_TopNavBar_HelpPostQuestion" class="fly break highlight2" href="/Questions/ask.aspx">Ask a Question</a></li>
		<li><a id="ctl00_TopNavBar_HelpBugs" class="fly" href="/suggestions.aspx">Bugs and Suggestions</a></li>
		<li><a id="ctl00_TopNavBar_HelpArticles" class="fly" href="/Forums/1641/Article-Writing">Article Help Forum</a></li>
		
		
		
		
		<li><a id="ctl00_TopNavBar_HelpAboutUs" class="fly" href="/info/about.aspx">About Us</a></li>
		<li class="last"></li>
	</ul>

</li>

</ul>

</div>
    </div>
	<div class="sub-headerbar-divider"></div>
	</div>		
	

	<div id="A" class="container-content-wrap fixed"> 

	<div class="container-content">

        
		<div class="clearfix">
			<div class="container-breadcrumb float-left ">
				<div><a rel="nofollow" href="/script/Content/SiteMap.aspx">Articles</a> / <a rel="nofollow" href="/script/Content/Tag.aspx?tags=Languages">Programming Languages</a> / <a rel="nofollow" href="/script/Content/Tag.aspx?tags=C">C</a></div>
			</div>

            <div class="float-left">
				
			</div>

			<div class="edit-links float-right">
				



 
&nbsp;










			</div>

			<div class="article-nav float-right">
				


<div style="display:inline-block;position:relative;top:-6px;margin-right:20px">
    
</div>



 

<a id="ctl00_ActionLinks_PrintMd" data-tooltip="Print" data-enabletooltip="true" data-width="auto" href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?display=Print">
   <img src="/App_Themes/CodeProject/Img/print48.png" 
	    width="24px" height="24px" style="border:0">
</a>



<span id="ctl00_ActionLinks_R">
    
    
</span>
			</div>
		</div>

        
		<div class="extended article-container-parts">

			
		    <div id="ctl00_LeftSideBar" class="article-left-sidebar">

                <div id="ctl00_StickyBlock" class="article-left-sidebar-inner">
                    
    		        

<div class="tabs">
	<div class=" selected">Article</div>
<div class="browse-code"><a href="/script/Articles/ViewDownloads.aspx?aid=32169">Browse Code</a></div>
<div><a href="/script/Articles/Statistics.aspx?aid=32169">View Stats</a></div>
<div><a href="/script/Articles/ListVersions.aspx?aid=32169">Revisions (3)</a></div>
<div><a href="#_comments">Comments (9)</a></div>
<div>Posted 1 Jan 2009</div>


    
</div>



			        

			        <div>
                        <h4 id="ctl00_TaggedAsWrapper">Tagged as</h4>
			            <span id="ctl00_TagList_TagWrp" class="tags vertical">

	
	

	
	<span id="ctl00_TagList_VisibleTags"><div class="t"><a rel="tag" href="/Tags/C" data-id="80">C</a></div><div class="t"><a rel="tag" href="/Tags/Windows" data-id="94">Windows</a></div></span> 

	
	
</span>


			        </div>

                    <div id="ctl00_VerticalStatsWrapper" class="stats">
                    <h4>Stats</h4>
                    <div id="ctl00_VerticalStats"><div class="stats"><div>70.9K views</div><div>4.2K downloads</div><div>54 bookmarked</div></div></div>
                    </div>

                    
                </div>
		    </div>
            

			
			<div id="AT" class="article-container  fixed"> 

				<div class="article">

					<form name="aspnetForm" method="post" action="./View.aspx" id="aspnetForm" style="margin:0;padding:0">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="JiLf2xP6BWEp0DV+RoqxPh4PuWl0xl1RqEobHHShIhptvhGN4FAHTHTuHQEsLhTz5iNLQ035Gu61DSJOohSImOjexNk/3Pa9bAUpVDlgjdssdRs39bQA2LYTpQIlbt3RjZiiZ0hOpoSSkObxvFss1v/ZqGJA51MK0utpngJk4yILlzz0MTuz26rYfSsBBDxUG0CN5g0M94yGViS39JajyfP2O5/8E1rmls9ke7F50OslanO8d9wzNWpemdbzZ48AU1qBSlQhyhzDVWAqgugRAgMdYK84wRP0yJ+WPWPyT9hJeZC7bbIAkW6ns8fz5zC5SfRajzVywDpClDn7oLm84XcrUUWTGiUonc2wT4JDdrEx+MHatGv51bzBwUl2CTSG3c/cIUFOtLG7oJptYk1EKMRcXkl+YNzl96d4L5rJdpbNoHmTuq7muS6qPz8nu+29SDTCp44UcaJUFqRPKZIDTTNeUCOz+8EWBOivF66mzdkN4QMIk4703dM9WKbSR8bHTwM32S0yZJcZccbrifxQgxVL0fmVLLibx0jo7ualQaA+bW8WJaDJBhNnPMU8jWTcglnYmA7lnY4Jx1Se27lnCLt615p/HyCha4RpFusYRSLN7Ihc92YnnKCQfzJe5FrxZCj85ocipujiXi1gxd5O/hlxP0veI7aW+TTEjokFMX/+hlq0ItW4SitOGFwTU1wKKXVCoE6Wd9Qu35D/Hv12lqp3uPpPHPm/uKJ4uW6yLxfDA20VrE95dWCuqtffWSh591GYoCejBIaAuyK5k2CaNP6kMS4ZOoVRUc2riAQ62D1MNiw20fzD1L9sbaoyWzNgDO2eN8NN9XftagPjqjOIgN9WrSzMlDvB87VghlvTNZmpolmeNxTQkX29j9lXoEcbEWhwpev1CRQ5MliDc6wZTOTWkSIypjeegssnUvCmbVfWuQFGOi8Map2l4FKpw8HG89DkqeGaYJapw/au0ZAQn3fTRzQyGgESi/aFrkh9hTgP5J+nGXqaIkTxY1A6AKD/tUKBV+nn7sI2vFZ05yJQbdVeGboA9+Ra4I2ipClzeP/h32i6ya/E7nPvy8Lhl3iBLZrFczM/OiF2+q9gtsCBe7Fl5GDiWD/E/zkhftEu3we39wg0pJxtCiddzmLiBySDPdu1ilAsxcv4gxpQhslGDC9orlcjn8kw9r7p+EZFm6lpTR0YdKfLLlSfK/iA9av59SV4vE0XPM/tBX0DqUariJAIu1S/jCPeyVb3hKYOvLdlCLEIIupz3IiLV2qc5g+w9xRnAuZPBoZczmhfUn0vgVeeJsMuJFtFqyHvhlr9kvAca8D80ch0fYJBqJwHCTvdeyhjfb7NpuQ+IZwhXySfQy0VHn2yMWvUpbM7HjPsoAWwyW6frvUlgzurvhRXRyyOrzgsdBdpIRypiXvzTZYBFh1RyrFcDyomDx5fOmBklNL9Y7LhnGEtEcAA4763LUzzcMJEC2g38dL6ZrCL99+KKqtf7/Ady+TZSVyq8cKpGHCRk4ktBpFgCGXWCRC1V4/mDeR3yl9IAEcnOQUiAVzAmyVvv0Y7bQZF4Tlk2S761tr7X4ZHyT/+q2z200tam1FpWaCKC08oFLnz8QaLYNedD0ce28D7mxZij5I7LH0osZp+fnXZHlPzpomlmmeYEsHFX3nKOCp/VQ6d+Tx5a0QnpIiMTF2QILsA6DKfrwEyu9CqUklEuuQHYQQZA7y93KErAmjAHM10W7X3ucSPc321vbwkRpRJA5/xa1Uax8l1biyiX/9FO3vGuVPK8m95igL/jC5LhEE4mBUUerYWHerZ8CgtSRAt9KFoZ69jQ04S4Tr6wWqpBCV/TE+vK/wipBiX+r9nbt2FiJNX5+GdXbMcvzfS/bKAZs2aXbaJLZHltK66Ucdt" />
</div>

<div>

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="10C1FD69" />
</div>

					
					 
					<div class="header">
					    <a name="Main"></a>

					    
					    <a name="_articleTop" id="_articleTop"></a>
					    <div class="title">
					        <h1 id="ctl00_ArticleTitle">FDump - Dumping File Sectors Directly from Disk using Logical Offsets</h1>
					    </div>

                        <div>
					        
					        <div class="entry flex-container">

                                

                                <div class="flex-item" style="flex:1 1 auto">
                                    <div class="flex-container" style="justify-content:space-between;flex-wrap:wrap-reverse">
                                       <span id="ctl00_Authors" class="author flex-item"><a href="/script/Membership/View.aspx?mid=25653" rel="author">Armen Hakobyan</a></span> 

                                        <div class="flex-item" style="margin-top:-4px;">
                                            <div id="ctl00_RateArticle_RatingTable" class="small-text" data-objectref="2_32169_3">

	<meta itemprop="upvoteCount" content="23">


	<div id="ctl00_RateArticle_RatingRow" class="flex-container rating-container large-stars">

					
		<div id="ctl00_RateArticle_Prompt" class="rating-prompt nowrap">Rate me:</a></div>

		
		<div class="nowrap tooltip">

			
			
			

			
			<div id="ctl00_RateArticle_RatingHistWrap" class="tooltip">

				
				<div id="ctl00_RateArticle_ResultWithHist" class="rating-result"><div class="flex-container rating-stars large-stars"><div><img src='https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png' style='width:24px;height:24px'></div><div><img src='https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png' style='width:24px;height:24px'></div><div><img src='https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png' style='width:24px;height:24px'></div><div><img src='https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png' style='width:24px;height:24px'></div><div style='width:21px;' class='clipped'><img src='https://www.codeproject.com/script/Ratings/Images/star-fill-lg.png' style='width:24px;height:24px'></div><div style='width:3px;position:relative' class='clipped'><img src='https://www.codeproject.com/script/Ratings/Images/star-empty-lg.png' style='width:24px;height:24px;position:absolute;top:0px;right:0'></div></div></div>
				

				<div class="speech-bubble-container-up-right" style="width:170px">
					<div class="speech-bubble-up-right">
						<div class="histogram"></div>
					</div>
					<div class="speech-bubble-pointer-up-right">
						<div class="speech-bubble-pointer-up-right-inner"></div>
					</div>
				</div>
			</div>

			
            

			
            <span id="ctl00_RateArticle_RatingSignin" class="speech-bubble-container-down">
		        <div class="speech-bubble-down">
                    Please <a id="ctl00_RateArticle_SignUp" href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign up or sign in</a> 
                    to vote.
		        </div>
		        <div class="speech-bubble-pointer-down">
			        <div class="speech-bubble-pointer-down-inner"></div>
		        </div>
	        </span>    

		</div>
		
	
		
		<div id="ctl00_RateArticle_VoteCountNoHist" class="rating-votes nowrap">4.89/5  (23 votes)</div>	

		

		
		<div class="rating-undo" title="Undo vote" style="margin-left:5px;display:none"></div>

		
		
	</div>

	
	

</div>

                                        </div>
                                    </div>

                                    <div  class="flex-container">
                                        <span id="ctl00_LastUpdated" class="date flex-item-tight" title="Date last updated">8 Jan 2009</span><a id="ctl00_LicenseLink" title="The Code Project Open License (CPOL)" class="license flex-item-tight" title="Licence" href="http://www.codeproject.com/info/cpol10.aspx">CPOL</a><span id="ctl00_ReadingTime" class="stats flex-item-tight">5 min read</span>
                                    </div>
                                </div>
					        </div>

                            

                        </div>

                        <div id="ctl00_DescriptionSpot" class="summary">An article on reading file sectors directly from disk using logical offsets</div><span id="ctl00_ThumbnailUrl" class="date" content="https://www.codeproject.com/KB/files/FDump/Thumb-32169.gif"></span>			

                    </div>
                    
					
					

					

					
					

					
					
					
					

						
					

					

						
						<div id="contentdiv" class="text">
						



<html><head></head><body><ul class="Download">
<li><a href="/KB/files/FDump/fdump_demo.zip">Download demo project - 17.47 KB</a> </li><li><a href="/KB/files/FDump/fdump_src.zip">Download source - 39.17 KB</a> </li></ul>
<img height="555" src="/KB/files/FDump/fdump.gif" width="610" alt="Image 1" class="lazyload" data-sizes="auto" data-srcset="/KB/files/FDump/fdump-r-400.gif 400w, /KB/files/FDump/fdump.gif 610w"> 
<h2>Introduction</h2>

<p>This source code shows how to dump the file reading its sectors directly from the disk using logical offsets. It heavily uses <code>FSCTL_GET_RETRIEVAL_POINTERS</code> IO control code. The full description of <code>FSCTL_GET_RETRIEVAL_POINTERS</code> IO control code can be found in <a href="http://www.wd-3.com/archive/luserland.htm#AboutAuthor">Mark Roddy's</a> article <a href="http://www.wd-3.com/archive/luserland.htm">"Adventures in Luserland: Finding Disk Sectors Associated with File Records"</a> and on <a href="http://msdn.microsoft.com/en-us/library/aa364572(VS.85).aspx">MSDN</a>.</p>

<h2>Background</h2>

<p>Recently I found Windows registry format specification and wanted to explore "raw" Windows registry files. However I discovered that some of them are locked by the system (OS) itself. I wanted to dump these files without restarting the system and booting from other OS and searched for a solution. I found some samples on the internet on using <code>FSCTL_GET_RETRIEVAL_POINTERS</code> IO control code to get volume logical offsets, but no one had FAT support plus no one had correct error handling. I wanted an "all-in-one" solution,&nbsp;so I&nbsp;wrote my own implementation of dumping a file, using <a href="#References">several articles</a> as a starting point, which supports all file systems used by Windows. </p>

<h2>Using the Code</h2>

<p>Several APIs are provided to the user to ease his/her work in dumping file sectors. The call order should be as follows: </p>

<div class="pre-lang" id="premain431218"><div>C++</div><div class="pre-action-link"><span id="copycode431218" class="copy-code" data-index="431218" style="visibility:hidden">Copy Code</span></div></div>
<pre id="pre431218" style="margin-top:0;" class=" lang-cplusplus" data-language="C++" data-collapse="False" data-linecount="False" data-allow-shrink="True">FsGetFileInfo()
FsGetVolumeInfo()
FsGetFileExtents()
	<span class="code-comment">// Here you should iterate through extents returned by FsGetFileExtents(),
</span>	<span class="code-comment">// read and dump the raw sectors of the volume. For the complete
</span>	<span class="code-comment">// sample see FsSectorCopy() implementation.
</span>FsFreeFileInfo()
FsFreeVolumeInfo()</pre>

<p>If you don't want to use these APIs, there is an already implemented function that does everything you need - <code>FsSectorCopy()</code>, which calls the above mentioned APIs. Short documentation on the function: </p>

<div class="pre-lang" id="premain780180"><div>C++</div><div class="pre-action-link"><span id="copycode780180" class="copy-code" data-index="780180" style="visibility:hidden">Copy Code</span></div></div>
<pre id="pre780180" style="margin-top:0;" class=" lang-cplusplus" data-language="C++" data-collapse="False" data-linecount="False" data-allow-shrink="True">STDAPI_( BOOL )
FsSectorCopy(
	IN LPCTSTR pszSrcFileName,
	IN LPCTSTR pszDstFileName,
	IN FS_CALLBACK_DATA* pCallbackData
);</pre>

<p>Function parameters:</p>

<ul>
<li><code>pszSrcFileName</code> - Source file path which is to be dumped </li><li><code>pszDstFileName</code> - Destination file path to dump file sectors to </li><li><code>pCallbackData</code> - Callback data (optional) </li></ul>

<p>Callback data structure (<code>pCallbackData)</code> is declared as follows: </p>

<div class="pre-lang" id="premain121704"><div>C++</div><div class="pre-action-link"><span id="copycode121704" class="copy-code" data-index="121704" style="visibility:hidden">Copy Code</span></div></div>
<pre id="pre121704" style="margin-top:0;" class=" lang-cplusplus" data-language="C++" data-collapse="False" data-linecount="False" data-allow-shrink="True"><span class="code-keyword">typedef</span> <span class="code-keyword">struct</span> _FS_CALLBACK_DATA
{
	PFNFS_PROGRESS_CALLBACK pfnFsProgress;
	HANDLE		hEventBreak;
	LPCVOID		lpUserParam;

} FS_CALLBACK_DATA;</pre>

<p>Callback data structure's members:</p>

<ul>
<li><code>pfnFsProgress</code> - Pointer to progress callback function called during the execution of the <code>FsSectorCopy()</code> to indicate its progress. </li><li><code>hEventBreak </code>- Event which can be set to stop the execution of the <code>FsSectorCopy()</code> function. This variable must be initialized before <code>FsSectorCopy()</code> call. </li><li><code>lpUserParam </code>- User parameter which is passed to progress callback function (<code>pfnFsProgress)</code>. </li></ul>

<p>Note that progress callback function (<code>pfnFsProgress</code>) can be called multiple times depending on the operation type and the overall percent complete value. Progress callback function (<code>pfnFsProgress</code>) declaration is as follows: </p>

<div class="pre-lang" id="premain541547"><div>C++</div><div class="pre-action-link"><span id="copycode541547" class="copy-code" data-index="541547" style="visibility:hidden">Copy Code</span></div></div>
<pre id="pre541547" style="margin-top:0;" class=" lang-cplusplus" data-language="C++" data-collapse="False" data-linecount="False" data-allow-shrink="True"><span class="code-keyword">typedef</span> BOOL ( CALLBACK* PFNFS_PROGRESS_CALLBACK )
(
	IN LPCVOID	lpUserParam,
	IN DWORD	dwJobType,
	IN BOOL		bJobDone,
	IN LPCVOID	lpJobContext,
	IN DWORD dwPercentComplete
);</pre>

<p>Callback function parameters: </p>

<ul>
<li><code>lpUserParam </code>- User parameter passed to <code>FsSectorCopy()</code> in callback data structure's <code>lpUserParam</code> member. </li><li><code>dwJobType</code> - Type of operation currently performed. Types of operations and their contexts are listed in the next section. </li><li><code>bJobDone</code> - Boolean value indicating operation success or failure. In case of operation failure, you can lookup the last error description in the system's message table. </li><li><code>lpJobContext</code> - Operation context, its type depends on <code>dwJobType</code>. Types of operations and their contexts are listed in the next section. </li><li><code>dwPercentComplete</code> - Overall operation percent complete value. </li></ul>

<p>Operation types and their context passed to progress callback function:</p>

<ul>
<li><code>FS_JOB_GET_SRC_VOLUME_INFO</code> - Progress callback function is called once with this operation type to indicate that the <code>FsSectorCopy()</code> function is getting source volume information. <code>lpJobContext</code> parameter of the progress function is a pointer to <code>FS_VOLUME_INFO</code> structure. Structure declaration is not presented here and should be looked up in the source code. <code>dwPercentComplete</code> is 0. </li><li><code>FS_JOB_GET_SRC_FILE_INFO</code> - Progress callback function is called once with this operation type to indicate that <code>FsSectorCopy()</code> function is getting source file information. <code>lpJobContext</code> parameter of the progress function is a pointer to <code>FS_FILE_INFO</code> structure. Structure declaration is not presented here and should be looked up in the source code. <code>dwPercentComplete</code> is 0. </li><li><code>FS_JOB_GET_SRC_FILE_EXTENTS</code> - Progress callback function is called once with this operation type to indicate that <code>FsSectorCopy()</code> function is getting source file extents. <code>lpJobContext</code> parameter of the progress function is empty. <code>dwPercentComplete</code> is 0. </li><li><code>FS_JOB_GET_SRC_FILE_MFT</code> - Progress callback function is called once with this operation type to indicate that <code>FsSectorCopy()</code> function is getting source file from MFT (if it is too small to occupy a whole cluster). <code>lpJobContext</code> parameter of the progress function is empty. <code>dwPercentComplete</code> is 0. </li><li><code>FS_JOB_CREATE_FILE_DST</code> - Progress callback function is called once with this operation type to indicate that <code>FsSectorCopy()</code> function is creating destination file. <code>lpJobContext</code> parameter of the progress function is empty. <code>dwPercentComplete</code> is 0. </li><li><code>FS_JOB_COPY_DATA_FROM_MFT</code> - Progress callback function is called once with this operation type to indicate that <code>FsSectorCopy()</code> function is dumping file data from MFT to destination file. <code>lpJobContext</code> parameter of the progress function is empty. <code>dwPercentComplete</code> is 0. </li><li><code>FS_JOB_COPY_DATA_FROM_DISK</code> - With this operation type progress callback function is called multiple times to indicate that <code>FsSectorCopy()</code> function is dumping source file sectors to destination file. <code>lpJobContext</code> parameter of the progress function is LCN (Logical Cluster) number. <code>dwPercentComplete</code> is increasing from 0 to 100 accordingly to progress of sectors copied. </li></ul>

<p><strong>For more information, please review the source code.</strong></p>

<h2>System Requirements</h2>

<ul>
<li><strong>Platforms supported</strong>: Windows 2000 Workstation/Servers and higher (XP/2003 Servers, Vista/2008 Servers). </li><li><strong>User privileges required</strong>: User must start an application as an <strong>administrator</strong> in order to use it. </li><li><strong>File systems supported</strong>: Currently application supports FAT12/16/32 and NTFS. There is also a new file system called exFAT created by Microsoft for flash drives. It was introduced with Microsoft Windows Vista SP1 (and maybe with Windows 2008). Unfortunately I was unable to find any exFAT specification so the application lacks its support. </li><li><strong>Non-trivial disks</strong>: Application is expected to work on striped and mirrored disks (personally tested on my SATAII RAID0 stripe). In case of errors, please report for me to improve the application behaviour. </li><li><strong>Large files support</strong>: I personally dumped large image files about 5Gb in size and compared with the original ones. However errors may happen with large files (while they shouldn't), please report them. </li></ul>

<h2>Known Limitations</h2>

<ul>
<li>Currently the <strong>compressed volumes, compressed and sparsed files</strong> are not supported. </li><li>exFAT file system is not supported. </li><li>The program compiles for 64 bit platforms. However I haven't tested it on Windows x64. </li></ul>

<p><strong>IMPORTANT: If any one has useful information or a solution for the above mentioned issues, please share it.</strong></p>

<h2><a name="References">References</a></h2>

<ol>
<li><a href="http://www.rohitab.com/discuss/lofiversion/index.php/t24252.html">Direct Copy Method</a> by Napalm (sounds like some hacker name) </li><li><a href="/KB/files/Translation.aspx">"Translating logical offsets into physical offsets"</a> by <a href="/KB/files/MemberArticles.aspx" ?amid="1832849&quot;">Omri Shaked</a> </li><li><a href="http://www.microsoft.com/whdc/system/platform/firmware/fatgen.mspx">FAT32 File System Specification</a> by <a href="http://www.microsoft.com/">Microsoft Corporation</a> </li><li><a href="http://www.wd-3.com/archive/luserland.htm">"Adventures in Luserland: Finding Disk Sectors Associated with File Records"</a> by <a href="http://www.wd-3.com/archive/luserland.htm#AboutAuthor">Mark Roddy</a> </li><li><a href="http://www.peetwo.dk/ucsoftware.html">DOSFS Embedded FAT-Compatible Filesystem</a> by Andreas R. Fugl </li><li><a href="http://msdn.microsoft.com/en-us/library/aa364572(VS.85).aspx">FSCTL_GET_RETRIEVAL_POINTERS Control Code</a> on MSDN </li></ol>

<h2>History</h2>

<ul>
<li><strong>01 September 2008</strong> 
<ul>
<li>Initial release&nbsp;of the application </li></ul>
</li><li><strong>22 October 2008</strong> 
<ul>
<li>Final release of the application </li></ul>
</li><li><strong>27 December 2008</strong> 
<ul>
<li>Submitted the article&nbsp;to The Code Project </li></ul>
</li><li><strong>05 January 2009</strong> 
<ul>
<li>Two small bug fixes (thanks to marcosvelasco) </li></ul>
</li></ul></body></html>


						</div>
						

						

						<div class="float-right" style="margin:20px 0 0 10px;border:1px solid #ccc">
						<div class="msg-300x250" data-format="300x250" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Programming-LanguagesC"  data-country='US' data-loadOnView='true'  data-tags='C, Windows, Advanced,rating4.5'><noscript><a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=300x250&c=102001"><img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=300x250&c=102001"  width="300px" height="250px" target="_blank"/></a></noscript></div>
						</div>
                        
                        
						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.codeproject.com/info/cpol10.aspx" rel="license">The Code Project Open License (CPOL)</a></p></div>
						<h2>Share</h2>
				        <div class="share-list">
					        

    <ul class="rrssb-buttons clearfix">
        <li id="ctl00_SocialLike_Email" class="email compact">
            <a href="mailto:?subject=FDump%20-%20Dumping%20File%20Sectors%20Directly%20from%20Disk%20using%20Logical%20Offsets%20-%20CodeProject&amp;body=Here%27s%20an%20interesting%20article%20on%20for%20you%20on%20codeproject.com%0a%0aAn%20article%20on%20reading%20file%20sectors%20directly%20from%20disk%20using%20logical%20offsets%0a%0ahttps%3a%2f%2fwww.codeproject.com%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin%0a">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                        version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" 
                        enable-background="new 0 0 28 28" xml:space="preserve">
                        <g>
                            <path d="M20.111 26.147c-2.336 1.051-4.361 1.401-7.125 1.401c-6.462 0-12.146-4.633-12.146-12.265 
                                c0-7.94 5.762-14.833 14.561-14.833c6.853 0 11.8 4.7 11.8 11.252c0 5.684-3.194 9.265-7.399 
                                9.3 c-1.829 0-3.153-0.934-3.347-2.997h-0.077c-1.208 1.986-2.96 2.997-5.023 2.997c-2.532 
                                0-4.361-1.868-4.361-5.062 c0-4.749 3.504-9.071 9.111-9.071c1.713 0 3.7 0.4 4.6 0.973l-1.169 
                                7.203c-0.388 2.298-0.116 3.3 1 3.4 c1.673 0 3.773-2.102 3.773-6.58c0-5.061-3.27-8.994-9.303-8.994c-5.957 
                                0-11.175 4.673-11.175 12.1 c0 6.5 4.2 10.2 10 10.201c1.986 0 4.089-0.43 5.646-1.245L20.111 
                                26.147z M16.646 10.1 c-0.311-0.078-0.701-0.155-1.207-0.155c-2.571 0-4.595 2.53-4.595 5.529c0 
                                1.5 0.7 2.4 1.9 2.4 c1.441 0 2.959-1.828 3.311-4.087L16.646 10.068z"></path>
                        </g>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Twitter" class="twitter compact">
            <a href="http://twitter.com/home?status=FDump+-+Dumping+File+Sectors+Directly+from+Disk+using+Logical+Offsets+-+CodeProject+-+https%3a%2f%2fwww.codeproject.com%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin" class="popup">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                        x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32
                        c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155
                        C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965
                        C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683
                        c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851
                        C26.275,7.229,25.39,8.196,24.253,8.756z"></path>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Facebook" class="facebook compact">
            
            <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.codeproject.com%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin" class="popup">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                        x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                        <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434
                            c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726
                            c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"></path>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_LinkedIn" class="linkedin compact">
            <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fwww.codeproject.com%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin&amp;title=FDump+-+Dumping+File+Sectors+Directly+from+Disk+using+Logical+Offsets+-+CodeProject&amp;summary=An+article+on+reading+file+sectors+directly+from+disk+using+logical+offsets&amp;source=codeproject.com" class="popup">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                        x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                        <path d="M25.424,15.887v8.447h-4.896v-7.882c0-1.979-0.709-3.331-2.48-3.331c-1.354,0-2.158,0.911-2.514,1.803
                            c-0.129,0.315-0.162,0.753-0.162,1.194v8.216h-4.899c0,0,0.066-13.349,0-14.731h4.899v2.088c-0.01,0.016-0.023,0.032-0.033,0.048
                            h0.033V11.69c0.65-1.002,1.812-2.435,4.414-2.435C23.008,9.254,25.424,11.361,25.424,15.887z M5.348,2.501
                            c-1.676,0-2.772,1.092-2.772,2.539c0,1.421,1.066,2.538,2.717,2.546h0.032c1.709,0,2.771-1.132,2.771-2.546
                            C8.054,3.593,7.019,2.501,5.343,2.501H5.348z M2.867,24.334h4.897V9.603H2.867V24.334z"></path>
                    </svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Reddit" class="reddit compact">
            <a href="http://www.reddit.com/submit?url=https%3a%2f%2fwww.codeproject.com%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin&amp;title=FDump+-+Dumping+File+Sectors+Directly+from+Disk+using+Logical+Offsets+-+CodeProject">
                <span class="icon">
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" 
                        x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" 
                        enable-background="new 0 0 28 28" xml:space="preserve"><g>
                    <path d="M11.794 15.316c0-1.029-0.835-1.895-1.866-1.895c-1.03 0-1.893 0.865-1.893 1.895s0.863 1.9 1.9 1.9 C10.958 17.2 11.8 16.3 11.8 15.316z"></path>
                    <path d="M18.1 13.422c-1.029 0-1.895 0.864-1.895 1.895c0 1 0.9 1.9 1.9 1.865c1.031 0 1.869-0.836 1.869-1.865 C19.969 14.3 19.1 13.4 18.1 13.422z"></path>
                    <path d="M17.527 19.791c-0.678 0.678-1.826 1.006-3.514 1.006c-0.004 0-0.009 0-0.014 0c-0.004 0-0.01 0-0.015 0 
                    c-1.686 0-2.834-0.328-3.51-1.005c-0.264-0.265-0.693-0.265-0.958 0c-0.264 0.265-0.264 0.7 0 1 c0.943 0.9 2.4 1.4 
                    4.5 1.402c0.005 0 0 0 0 0c0.005 0 0 0 0 0c2.066 0 3.527-0.459 4.47-1.402 c0.265-0.264 0.265-0.693 0.002-0.958C18.221 
                    19.5 17.8 19.5 17.5 19.791z"></path><path d="M27.707 13.267c0-1.785-1.453-3.237-3.236-3.237c-0.793 0-1.518 0.287-2.082 
                    0.761c-2.039-1.295-4.646-2.069-7.438-2.219 l1.483-4.691l4.062 0.956c0.071 1.4 1.3 2.6 2.7 2.555c1.488 0 2.695-1.208 
                    2.695-2.695C25.881 3.2 24.7 2 23.2 2 c-1.059 0-1.979 0.616-2.42 1.508l-4.633-1.091c-0.344-0.081-0.693 0.118-0.803 
                    0.455l-1.793 5.7 C10.548 8.6 7.7 9.4 5.6 10.75C5.006 10.3 4.3 10 3.5 10.029c-1.785 0-3.237 1.452-3.237 3.2 c0 1.1 0.6 
                    2.1 1.4 2.69c-0.04 0.272-0.061 0.551-0.061 0.831c0 2.3 1.3 4.4 3.7 5.9 c2.299 1.5 5.3 2.3 8.6 2.325c3.228 0 6.271-0.825 
                    8.571-2.325c2.387-1.56 3.7-3.66 3.7-5.917 c0-0.26-0.016-0.514-0.051-0.768C27.088 15.5 27.7 14.4 27.7 13.267z M23.186 
                    3.355c0.74 0 1.3 0.6 1.3 1.3 c0 0.738-0.6 1.34-1.34 1.34s-1.342-0.602-1.342-1.34C21.844 4 22.4 3.4 23.2 3.355z M1.648 
                    13.3 c0-1.038 0.844-1.882 1.882-1.882c0.31 0 0.6 0.1 0.9 0.209c-1.049 0.868-1.813 1.861-2.26 2.9 C1.832 14.2 1.6 13.8 1.6 
                    13.267z M21.773 21.57c-2.082 1.357-4.863 2.105-7.831 2.105c-2.967 0-5.747-0.748-7.828-2.105 
                    c-1.991-1.301-3.088-3-3.088-4.782c0-1.784 1.097-3.484 3.088-4.784c2.081-1.358 4.861-2.106 7.828-2.106 c2.967 0 5.7 
                    0.7 7.8 2.106c1.99 1.3 3.1 3 3.1 4.784C24.859 18.6 23.8 20.3 21.8 21.57z M25.787 14.6 
                    c-0.432-1.084-1.191-2.095-2.244-2.977c0.273-0.156 0.59-0.245 0.928-0.245c1.035 0 1.9 0.8 1.9 1.9 
                    C26.354 13.8 26.1 14.3 25.8 14.605z"></path></g></svg>
                </span>
                
            </a>
        </li><li id="ctl00_SocialLike_Pinterest" class="pinterest compact">
            <a href="http://pinterest.com/pin/create/bookmarklet/?is_video=false&amp;url=https%3a%2f%2fwww.codeproject.com%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin&amp;description=FDump+-+Dumping+File+Sectors+Directly+from+Disk+using+Logical+Offsets+-+CodeProject">
                <span class="icon">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                        x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M14.021,1.57C6.96,1.57,1.236,7.293,1.236,14.355c0,7.062,5.724,12.785,12.785,12.785c7.061,0,12.785-5.725,12.785-12.785
                        C26.807,7.294,21.082,1.57,14.021,1.57z M15.261,18.655c-1.161-0.09-1.649-0.666-2.559-1.219c-0.501,2.626-1.113,5.145-2.925,6.458
                        c-0.559-3.971,0.822-6.951,1.462-10.116c-1.093-1.84,0.132-5.545,2.438-4.632c2.837,1.123-2.458,6.842,1.099,7.557
                        c3.711,0.744,5.227-6.439,2.925-8.775c-3.325-3.374-9.678-0.077-8.897,4.754c0.19,1.178,1.408,1.538,0.489,3.168
                        C7.165,15.378,6.53,13.7,6.611,11.462c0.131-3.662,3.291-6.227,6.46-6.582c4.007-0.448,7.771,1.474,8.29,5.239
                        c0.579,4.255-1.816,8.865-6.102,8.533L15.261,18.655z"></path>
                    </svg>
                </span>
                
            </a>
        </li>

    </ul>



				        </div> 
    			        
                        <h2 id="ctl00_AboutHeading">About the Author</h2>
						    

<div class="author-wrapper">

    <div class="pic-wrapper"> 
        <img id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhoto" class="profile-pic" src="https://www.codeproject.com/script/Membership/Images/member_unknown.gif" style="border-width:0px;transform:rotate(0deg);" />
    </div>

    <div class="container-member">  
        <b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" class="author" href="/Members/Armen-Hakobyan">Armen Hakobyan</a></b>

        <table>
        <tr>
            <td rowspan="2" nowrap valign="middle">
            
            </td>
            <td nowrap="nowrap">
                <div class="company">
                    <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle">Software Developer (Senior)</span>
	                <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberCompany">SafeNet Inc</span>
                </div>
            </td>
            <td rowspan="2" style="padding-left:15px">
                
            </td>
        </tr>
        <tr>
            <td>
                <span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation">United States <img src="/script/Geo/Images/US.gif" alt="United States" width="16px" height="11px" /></span>
            </td>
        </tr>
        </table>
    </div>

    <div class="description">
        No Biography provided

        
    </div>

</div><br />
						
						

						<div class="clearfix"></div>

						<div style="padding-top:8px">
							
						</div>

					

				    
					</form>

				</div>

				
				<div class="bottom-promo"> 
				    <div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Programming-LanguagesC"  data-country='US' data-loadOnView='true'  data-tags='C, Windows, Advanced,rating4.5,pos_bottom'><noscript><a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=728x90&c=102001"><img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=728x90&c=102001"  width="728px" height="90px" target="_blank"/></a></noscript></div>
				</div>
				
                
                

				
				

					<h2>Comments and Discussions</h2>
					<a class="float-left" name="_comments" id="_comments">&nbsp;</a><div id="_MessageBoardctl00_MessageBoard" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(event, null)">
<table id="ForumTable" class="forum relaxed" cellpadding="0" cellspacing="0">
<tr>
<td class="header1"><div class="callout">
	<b>You must <a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin%3ffid%3d1533138%26df%3d90%26mpp%3d25%26sort%3dPosition%26view%3dNormal%26spc%3dRelaxed%26prof%3dTrue">Sign In</a> to use this message board.</b>
</div></td>
</tr><tr>
<td><table width="100%" border="0" cellpadding="3px" cellspacing="0">
<tr class="header1">
<td colspan="2" style="white-space:nowrap;"><div class="container">
<div class="float-right">
<form action="/Search.aspx?sbo=fm" method="get" class="searchbar">
<input type="hidden" name="fid" value="1533138" /><input type="hidden" name="sbo" value="fm" /><input id="search_forumCtrl_ctl00_MessageBoard" type="search" class="search" autocomplete="off" name="qf" /><input type="image" src="https://www.codeproject.com/images/search.gif" />
</form>
</div>
</div></td>
</tr><tr class="header2">
<td></td><td style="width:100%;"><div style="text-align:right;">
<form action="/script/Forums/SetOptions.aspx?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;prof=True&amp;floc=%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin" method="get" style="margin:0;padding:0;">
<input type="hidden" name="fid" value="1533138" /><input type="hidden" name="currentQS" value="fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;prof=True&amp;floc=%2fArticles%2f32169%2fFDump-Dumping-File-Sectors-Directly-from-Disk-usin" /><input type="hidden" name="floc" value="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin" />Spacing<select size="1" class="dropdown" name="spc">
<option selected value="Relaxed">Relaxed</option><option value="Compact">Compact</option><option value="Tight">Tight</option>
</select>&nbsp;&nbsp;Layout<select size="1" class="dropdown" name="view">
<option selected value="Normal">Normal</option><option value="Topic">Open Topics</option><option value="Expanded">Open All</option><option value="Thread">Thread View</option>
</select>&nbsp;&nbsp;Per page<select size="1" class="dropdown" name="mpp">
<option value="10">10</option><option selected value="25">25</option><option value="50">50</option>
</select>&nbsp;&nbsp;&nbsp;<input type="submit" value="Update" name="SetOpt" class="button" />
</form>
</div></td>
</tr>
</table></td>
</tr><tr>
<td><a name="xx0xx"></a><table border="0" cellpadding="2px" cellspacing="0" width="100%">
<tr class="navbar">
<td></td><td style="text-align:right;width:50%;"></td><td style="text-align:right;white-space:nowrap;"><span class="nav-link disabled">First</span> <span class="nav-link disabled">Prev</span> <span class="nav-link disabled">Next</span></td>
</tr>
</table></td>
</tr><tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%" class="fixed-layout blank-background">
<tr id="F5699504_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="20px" class="indent"><a name="xx5699504xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_bug.gif" alt="Bug" title="Bug" /></td><td class="subject hover-container"><a class="message-link" name="5699504" parent="0" thread="5699504" href="/Messages/5699504/How-to-compile-it-on-windows-10">How to compile it on windows 10</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://www.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Member 14744904</span><span class="date">16-Feb-20  17:27</span>
</div></td><td class="icon"><img border="0" src="https://www.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=14744904">Member 14744904</a></span></td><td class="date"><span>16-Feb-20  17:27&nbsp;</span></td>
</tr>
</table></td>
</tr><tr id="F5699504_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2">In fdump.c/ConsoleRewindCursorPos, add return at the beginning of the function. It crashes overwise.<br />
<br />
In fdump.c/PrintLine, comment out pTmp = szText + (g_scrRect.X - nLineMax - 10), it corrupts memory.<br />
<br />
In fdump.c, remove GetVersionEx, it refuses to compile overwise.<br />
<br />
Now it will work.<br />
<br />
A few things that I noticed, but didn't bother to fix.<br />
<br />
Disk size report doesn't show GB properly, it either shows "??" or nothing at all. Unicode works in mysterious ways. Probably a locale issue.<br />
<br />
It can't copy from exFAT disks. It can try though, but it will read garbage.<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign In</a><wbr><a href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=5699504" title="View&nbsp;Thread">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_5699504" name="react-item_5699504" id="MRF5699504" class="reaction-result"></span><span data-objectref="3_5699504" data-votingtype="GoodOrBad" name="RateItem_5699504" id="MVF5699504" class="rating-result"></span><a href="/Messages/5699504/How-to-compile-it-on-windows-10" title="Get permanent link" style="border:0 !important"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>&nbsp;</td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr><tr id="F4634981_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="20px" class="indent"><a name="xx4634981xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_question.gif" alt="Question" title="Question" /></td><td class="subject hover-container"><a class="message-link" name="4634981" parent="0" thread="4634981" href="/Messages/4634981/running-on-SAM-file">running on SAM file</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://www.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">sr3330</span><span class="date">12-Aug-13  20:55</span>
</div></td><td class="icon"><img border="0" src="https://www.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=10100153">sr3330</a></span></td><td class="date"><span>12-Aug-13  20:55&nbsp;</span></td>
</tr>
</table></td>
</tr><tr id="F4634981_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2">I want to run FDump on C:\Windows\System32\config\SAM in windows 7 , but the program returns error!!??<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign In</a><wbr><a href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4634981" title="View&nbsp;Thread">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_4634981" name="react-item_4634981" id="MRF4634981" class="reaction-result"></span><span data-objectref="3_4634981" data-votingtype="GoodOrBad" name="RateItem_4634981" id="MVF4634981" class="rating-result"></span><a href="/Messages/4634981/running-on-SAM-file" title="Get permanent link" style="border:0 !important"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>&nbsp;</td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr><tr id="F4316610_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="20px" class="indent"><a name="xx4316610xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_question.gif" alt="Question" title="Question" /></td><td class="subject hover-container"><a class="message-link" name="4316610" parent="0" thread="4316610" href="/Messages/4316610/just-what-imlooking-for">just what i'mlooking for</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://www.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">zhang song</span><span class="date">21-Jul-12  4:09</span>
</div></td><td class="icon"><img border="0" src="https://www.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=6600600">zhang song</a></span></td><td class="date"><span>21-Jul-12  4:09&nbsp;</span></td>
</tr>
</table></td>
</tr><tr id="F4316610_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2">good  thks<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign In</a><wbr><a href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4316610" title="View&nbsp;Thread">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_4316610" name="react-item_4316610" id="MRF4316610" class="reaction-result"></span><span data-objectref="3_4316610" data-votingtype="GoodOrBad" name="RateItem_4316610" id="MVF4316610" class="rating-result"></span><a href="/Messages/4316610/just-what-imlooking-for" title="Get permanent link" style="border:0 !important"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>&nbsp;</td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr><tr id="F3651152_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="20px" class="indent"><a name="xx3651152xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="3651152" parent="0" thread="3651152" href="/Messages/3651152/Corrupted-data">Corrupted data</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://www.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">fsban</span><span class="date">29-Oct-10  3:38</span>
</div></td><td class="icon"><img border="0" src="https://www.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=1130682">fsban</a></span></td><td class="date"><span>29-Oct-10  3:38&nbsp;</span></td>
</tr>
</table></td>
</tr><tr id="F3651152_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2">Hi,<br />
<br />
Thanks for your article.<br />
<br />
I tested with your code,most of files are good, but in one of my folder, i found corrupted data.<br />
D:\Documents and Settings\Administrator\Local Settings\Application Data\Identities\{ED2AC482-A65E-41CF-B5FA-9589D614DB7C}\Microsoft\Outlook Express<br />
<br />
There are a few .dbx files there, some clusters should be empty data if i read with normal way, but it return some garbage data<br />
from your API.<br />
<br />
Any idea?<br />
<br />
Thanks<br />
Tsang<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign In</a><wbr><a href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3651152" title="View&nbsp;Thread">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_3651152" name="react-item_3651152" id="MRF3651152" class="reaction-result"></span><span data-objectref="3_3651152" data-votingtype="GoodOrBad" name="RateItem_3651152" id="MVF3651152" class="rating-result"></span><a href="/Messages/3651152/Corrupted-data" title="Get permanent link" style="border:0 !important"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>&nbsp;</td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr><tr id="F2964256_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="20px" class="indent"><a name="xx2964256xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="2964256" parent="0" thread="2964256" href="/Messages/2964256/Another-problem">Another problem</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://www.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">marcosvelasco</span><span class="date">14-Mar-09  1:48</span>
</div></td><td class="icon"><img border="0" src="https://www.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=11792">marcosvelasco</a></span></td><td class="date"><span>14-Mar-09  1:48&nbsp;</span></td>
</tr>
</table></td>
</tr><tr id="F2964256_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2">Hi!<br />
I found another problem.<br />
I test in Windows XP, 2003 Server and Vista with NTFS and a few times the copy make a corrupted file.  I'm trying reproduce the error.<br />
Thank you<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign In</a><wbr><a href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=2964256" title="View&nbsp;Thread">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_2964256" name="react-item_2964256" id="MRF2964256" class="reaction-result"></span><span data-objectref="3_2964256" data-votingtype="GoodOrBad" name="RateItem_2964256" id="MVF2964256" class="rating-result"></span><a href="/Messages/2964256/Another-problem" title="Get permanent link" style="border:0 !important"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>&nbsp;</td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr><tr id="F3075205_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="38px" class="indent"><a name="xx3075205xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="3075205" parent="2964256" thread="2964256" href="/Messages/3075205/Re-Another-problem">Re: Another problem</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://www.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Armen Hakobyan</span><span class="date">10-Jun-09  5:34</span>
</div></td><td class="icon"><img border="0" src="https://www.codeproject.com/App_Themes/CodeProject/Img/icn-pro-16.png" title="Professional" alt="professional" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=25653">Armen Hakobyan</a></span></td><td class="date"><span>10-Jun-09  5:34&nbsp;</span></td>
</tr>
</table></td>
</tr><tr id="F3075205_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,2964256);" href="/Messages/2964256/Another-problem"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent"  style="width:16px;height:16px;border:0" /></a></div>Any news? <br />
<br />
<div class="ForumSig">#define __ARMEN_H__</div><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign In</a><wbr><a href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=2964256" title="View&nbsp;Thread">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_3075205" name="react-item_3075205" id="MRF3075205" class="reaction-result"></span><span data-objectref="3_3075205" data-votingtype="GoodOrBad" name="RateItem_3075205" id="MVF3075205" class="rating-result"></span><a href="/Messages/3075205/Re-Another-problem" title="Get permanent link" style="border:0 !important"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>&nbsp;</td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr><tr id="F3177538_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="56px" class="indent"><a name="xx3177538xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="3177538" parent="3075205" thread="2964256" href="/Messages/3177538/Re-Another-problem">Re: Another problem</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://www.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">marcosvelasco</span><span class="date">28-Aug-09  8:33</span>
</div></td><td class="icon"><img border="0" src="https://www.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=11792">marcosvelasco</a></span></td><td class="date"><span>28-Aug-09  8:33&nbsp;</span></td>
</tr>
</table></td>
</tr><tr id="F3177538_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td class="indent align-right" style="width:56px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,3075205);" href="/Messages/3075205/Re-Another-problem"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent"  style="width:16px;height:16px;border:0" /></a></div>Hi!<br />
I found a way to reproduce the problem:<br />
<br />
Download and install the "Daemon Tools" utility:<br />
<a href="http://www.daemon-tools.cc/eng/home">http://www.daemon-tools.cc/eng/home</a>[<a href="http://www.daemon-tools.cc/eng/home" target="_blank" title="New Window">^</a>]<br />
<br />
This utility use a file called "sptd.sys". This file is inside "c:\windows\system32\drivers" folder and they is locked. If you try copy this file, a few times works fine and the file is copied with success, but a few times not, they make a corrupted file.<br />
<br />
I test in Windows XP SP2, SP3 and Vista. The same problem in all.<br />
<br />
Thank you<br />
Marcos<br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign In</a><wbr><a href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=2964256" title="View&nbsp;Thread">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_3177538" name="react-item_3177538" id="MRF3177538" class="reaction-result"></span><span data-objectref="3_3177538" data-votingtype="GoodOrBad" name="RateItem_3177538" id="MVF3177538" class="rating-result"></span><a href="/Messages/3177538/Re-Another-problem" title="Get permanent link" style="border:0 !important"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>&nbsp;</td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr><tr id="F2864777_h0" class="header hover-row root">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="20px" class="indent"><a name="xx2864777xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="2864777" parent="0" thread="2864777" href="/Messages/2864777/two-little-problems-modified">two little problems... [modified]</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://www.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">marcosvelasco</span><span class="date">4-Jan-09  1:44</span>
</div></td><td class="icon"><img border="0" src="https://www.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="Member" alt="Member" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=11792">marcosvelasco</a></span></td><td class="date"><span>4-Jan-09  1:44&nbsp;</span></td>
</tr>
</table></td>
</tr><tr id="F2864777_h1" class="content root selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td class="indent align-right" style="width:20px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2">Hi!<br />
Congratulations by your code and article.<br />
<br />
I found two little problems:<br />
<br />
1) In FsSectorCopy() function if pszScrFileName and pszDstFileName are the same path, the source file finish with zero bytes.  Maybe is necessary check if pszScrFileName and pszDstFileName are identical (with short file path support too).<br />
<br />
2) In FsSectorCopy() in the line cause GPF if you pass pCallbackData == NULL to FsSectorCopy():   <br />
 <br />
   if( IS_VALID_FILE_HANDLE( pCallbackData-&gt;hEventBreak ) ) <br />
   <br />
   To correct is necessary this modification:<br />
   <br />
   if ( pCallbackData )<br />
   {<br />
       if( IS_VALID_FILE_HANDLE( pCallbackData-&gt;hEventBreak ) )<br />
       {<br />
           ...<br />
<br />
Thank you <br />
<br />
<div class="ForumMod">modified on Sunday, January 4, 2009 8:00 AM</div><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign In</a><wbr><a href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=2864777" title="View&nbsp;Thread">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_2864777" name="react-item_2864777" id="MRF2864777" class="reaction-result"></span><span data-objectref="3_2864777" data-votingtype="GoodOrBad" name="RateItem_2864777" id="MVF2864777" class="rating-result"></span><a href="/Messages/2864777/two-little-problems-modified" title="Get permanent link" style="border:0 !important"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>&nbsp;</td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr><tr id="F2865509_h0" class="header hover-row">
<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td width="38px" class="indent"><a name="xx2865509xx"></a><img height="16px" width="16px" align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" alt="General" title="General" /></td><td class="subject hover-container"><a class="message-link" name="2865509" parent="2864777" thread="2864777" href="/Messages/2865509/Re-two-little-problems">Re: two little problems...</a> <a onclick="return forumCtrl_ctl00_MessageBoard.Pin(this);" rel="nofollow" href="#" title="Click to pin message"><img src="https://www.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a><div class="mobile-only">
	<span class="author">Armen Hakobyan</span><span class="date">4-Jan-09  21:58</span>
</div></td><td class="icon"><img border="0" src="https://www.codeproject.com/App_Themes/CodeProject/Img/icn-pro-16.png" title="Professional" alt="professional" height="16px" /></td><td class="author"><span><a href="/script/Membership/View.aspx?mid=25653">Armen Hakobyan</a></span></td><td class="date"><span>4-Jan-09  21:58&nbsp;</span></td>
</tr>
</table></td>
</tr><tr id="F2865509_h1" class="content selected" style="display:none;">
<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td class="indent align-right" style="width:38px;"></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
<tr>
<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return forumCtrl_ctl00_MessageBoard.SwitchMessage(null,2864777);" href="/Messages/2864777/two-little-problems-modified"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/arrow-up24.png" title="Go to Parent"  style="width:16px;height:16px;border:0" /></a></div>Thanks man. Update is already on its way. <br />
<br />
<div class="ForumSig">#define __ARMEN_H__</div><br /></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Sign In</a><wbr><a href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=2864777" title="View&nbsp;Thread">View&nbsp;Thread</a></td><td style="text-align:right;"><span data-objectref="3_2865509" name="react-item_2865509" id="MRF2865509" class="reaction-result"></span><span data-objectref="3_2865509" data-votingtype="GoodOrBad" name="RateItem_2865509" id="MVF2865509" class="rating-result"></span><a href="/Messages/2865509/Re-two-little-problems" title="Get permanent link" style="border:0 !important"><img src="https://www.codeproject.com/App_Themes/CodeProject/Img/link32.png" style="width:14px;height:14px;border:0" /></a>&nbsp;</td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr>
</table></td>
</tr><tr>
<td><table width="100%" cellpadding="2px" cellspacing="0">
<tr class="footer">
<td><span class="last-visit desktop-only tablet-only">Last Visit: 31-Dec-99  18:00 &nbsp; &nbsp; Last Update: 22-May-21  16:05</span></td><td><a rel="nofollow" href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal">Refresh</a></td><td style="text-align:right;white-space:nowrap;"><input id="_mbnUrl" type="hidden" value="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?fid=1533138&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;prof=True&amp;view=Normal&amp;fr=10" /><span class="nav-link selected">1</span></td>
</tr>
</table></td>
</tr>
</table>
</div><p class="small-text"><img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_general.gif" width="16px" height="16px" alt="General" /> General &nbsp;&nbsp; <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_news.gif" width="16px" height="16px" alt="News" /> News &nbsp;&nbsp; <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_idea.gif" width="16px" height="16px" alt="Suggestion" /> Suggestion &nbsp;&nbsp; <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_question.gif" width="16px" height="16px" alt="Question" /> Question &nbsp;&nbsp; <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_bug.gif" width="16px" height="16px" alt="Bug" /> Bug &nbsp;&nbsp; <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_answer.gif" width="16px" height="16px" alt="Answer" /> Answer &nbsp;&nbsp; <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_joke.gif" width="16px" height="16px" alt="Joke" /> Joke &nbsp;&nbsp; <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_kudos.gif" width="16px" height="16px" alt="Praise" /> Praise &nbsp;&nbsp; <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_rant.gif" width="16px" height="16px" alt="Rant" /> Rant &nbsp;&nbsp; <img align="top" src="https://www.codeproject.com/script/Forums/Images/msg_admin.gif" width="16px" height="16px" alt="Admin" /> Admin &nbsp;&nbsp; </p><p class="small-text">Use Ctrl+Left/Right to switch messages, Ctrl+Up/Down to switch threads, Ctrl+Shift+Left/Right to switch pages.</p>
				

			</div>
			

            
            <div id="ctl00_RightSideBar" class="article-right-sidebar">

				

                <div id="RHSticky" class="container-article-info-sticky">

        		    

<div class="article-summary">

    
    

</div>

				    <div id="ctl00_SectionSponsor" class="padded-top" style="width:160px;margin:10px auto">
					    <div class="msg-160x200" data-format="160x200" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Programming-LanguagesC"  data-country='US' data-showindicator="true"  data-tags='C, Windows, Advanced,rating4.5'><noscript><a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=160x200&c=257885"><img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=160x200&c=257885"  width="160px" height="200px" target="_blank"/></a></noscript></div>
				    </div>

				    <div style="width:160px;margin: 10px auto;">
					    <div class="msg-160x600" data-format="160x600" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="Programming-LanguagesC"  data-country='US' data-tags='C, Windows, Advanced,rating4.5'><noscript><a href="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=160x600&c=257885"><img src="https://pubads.g.doubleclick.net/gampad/jump?iu=/6839/lqm.codeproject.site/Programming-LanguagesC&sz=160x600&c=257885"  width="160px" height="600px" target="_blank"/></a></noscript></div>
				    </div>

                    

				    

				    

                    <div class="anchorLink gototop" id="gototop">
                        <a id="ctl00_GoToTop" href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin#_articleTop">Go to top</a>
                    </div>

			    </div>
            </div>
            

        </div>
        

		
		<div class="theme1-background" style="height:2px;margin:5px 0" id="stickyStop"></div>

		<div class="site-footer">
			<div class="align-left">
				<a id="ctl00_PermaLink" href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin">Permalink</a><br>
				<a id="ctl00_AdvertiseLink" href="http://developermedia.com/">Advertise </a><br>
				<a id="ctl00_PrivacyLink" href="/info/privacy.aspx">Privacy</a><br>
    			<a id="ctl00_CookiePolicyLink" href="/info/cookie.aspx">Cookies</a><br>
                <a id="ctl00_TermsOfUseLink" href="/info/TermsOfUse.aspx">Terms of Use</a><br>
			</div>

            <div class="align-center">
				


<div class="page-width">
    Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" class=" active" href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?PageFlow=FixedWidth">fixed</a>
    |
    <a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="/Articles/32169/FDump-Dumping-File-Sectors-Directly-from-Disk-usin?PageFlow=Fluid">fluid</a>
</div>


				

				

	            

                <br>
			</div>
                
			<div class="align-right">
				Article Copyright 2009 by Armen Hakobyan<br />Everything else
				Copyright &copy; <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2021 <br />
                <br>
				Web02 
				2.8.20210514.1<br>
			</div>
		</div>
		

		<br clear="all" />
		
			

	</div> 
	</div> 
</div>



<img id="ctl00_Audience" src="https://pubads.g.doubleclick.net/activity;dc_iu=/6839/DFPAudiencePixel;ord=&#39;637573179516320190&#39;;dc_seg=33705490?" style="border-width:0px;height:1px;width:1px;" />



<script type="text/javascript"> // IMMEDIATE script

function Join() {
                                     document.location.href = 'https://www.codeproject.com/script/Membership/Modify.aspx';
                                     return false;
                                  }

var wnseruknad = function(n){var t=!1;n=n||{};var r=n.RetrievalServiceUrl||"/script/content/webservices/RetrieveContent.aspx/GetContent",u=n.RetrievalServiceRetries||3,f=n.RetrievalServiceTimeout||5e3,e=function(){t||(t=!0,$(window).on("resize scroll",i),i())},i=function(){if(typeof DMAds=="undefined"){var n=$('[data-type="ad"]');n.each(function(){var n=$(this),u=n.attr("data-format")||"",f=n.attr("data-publisher")||"",e=n.attr("data-zone")||"",t=n.attr("data-loadonview"),i=n.attr("data-noadx"),h=n.attr("data-tags")||"",c=n.find("iframe").length!==0||n.find("img").length!==0,r=n.attr("data-processed");t=typeof t=="string"&&t.toLowerCase()==="true";i=typeof i=="string"&&i.toLowerCase()==="true";r=typeof r=="string"&&r.toLowerCase()==="true";r||c||t&&!s(this)||(o(n,u,f,e,i,h),n.attr("data-processed","true"))})}},o=function(n,t,i,e,o,s){var h=new $.Deferred,c=JSON.stringify({format:t,publisherCode:i,zone:e,noAdX:o,keywords:s});$.ajax({url:r,cache:!1,type:"POST",data:c,contentType:"application/json; charset=utf-8",dataType:"json",tryCount:0,retryLimit:u,timeout:f}).done(function(t){var i=t?t.d:null;h.resolve(i); i && i.html && n.html(i.html)}).fail(function(n,t){h.reject(t)})},s=function(n){var t,f,e,o;if(!h(n))return!1;var u=!1,i=0,r=0;try{t=n.getBoundingClientRect();typeof innerWidth=="number"?(i=window.innerWidth,r=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(i=document.documentElement.clientWidth,r=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(i=document.body.clientWidth,r=document.body.clientHeight);f=-200;t.top===t.bottom&&(f+=n.height*-1);e=t.top>=0&&t.top-200<=r||t.top<=0&&t.top>=f;o=i>t.left&&t.right>=0;u=e&&o}catch(s){u=!0}return u},h=function(n){var t=!1,i;return n&&n.style.position!=="fixed"&&n.offsetParent?t=!0:n&&n.style.position==="fixed"&&(i=window.getComputedStyle(n),t=i&&i.display!=="none"),t&&c()},c=function(){var t=!0,n="";return typeof document.hidden!="undefined"?n="hidden":typeof document.mozHidden!="undefined"?n="mozHidden":typeof document.msHidden!="undefined"?n="msHidden":typeof document.webkitHidden!="undefined"&&(n="webkitHidden"),n!==null&&document[n]&&(t=!1),t};return{init:e}};
document.addEventListener('DOMContentLoaded', function() {
var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP"),t;n.onreadystatechange=function(){try{if(n.readyState==4)if(n.status==200){var t=document.createElement("script");t.type="text/javascript";t.innerHTML=n.responseText;document.getElementsByTagName("body")[0].appendChild(t)}else(new wnseruknad).init()}catch(i){(new wnseruknad).init()}};try{t='/a.min.js?v=1.3';n.open("GET",t,!0);n.send()}catch(i){(new wnseruknad).init()}

  $('div[data-type="ad"][data-showindicator="true"]').before('<div class="small-text muted hidden">Advertisement</div>');
  setTimeout(function(){ 
    $('div[data-type="ad"][data-showindicator="true"]').each(function( index ) {
      if ($(this).height() > 0) {
       $(this).prev().removeClass('hidden');
      }
    });
  }, 2000);

});

var ratingCtrl_ctl00_RateArticle;

var forumConfig_ctl00_MessageBoard;
var forumCtrl_ctl00_MessageBoard;
var forumCtrl_ctl00_MessageBoard_forumMsgFlag;
var forumCtrl_ctl00_MessageBoard_rating;
var forumCtrl_ctl00_MessageBoard_ratingConfig;
var forumCtrl_ctl00_MessageBoard_reaction;
var forumCtrl_ctl00_MessageBoard__reactionConfig;

var subscriptionConfig_ctl00_MessageBoard = {
 ParentId      : 'ctl00_MessageBoard_SubscribeDiv',
 NewId         : 'ctl00_MessageBoard_SubscribeNew',
 ReplyId       : 'ctl00_MessageBoard_SubscribeReplies',
 InstantId     : 'ctl00_MessageBoard_SubscribeInstant',
 DailyId       : 'ctl00_MessageBoard_SubscribeDaily',
 MessageTypeId : 'ctl00_MessageBoard_MessageType',
 GetInfoUrl    : '/script/Forums/WebServices/ForumSubscriptionServices.aspx/GetSubscriptions',
 UpdateInfoUrl : '/script/Forums/WebServices/ForumSubscriptionServices.aspx/UpdateSubscription',
 ForumId       : 1533138,
};
var subscriptions_ctl00_MessageBoard;

var qfuaihd = false;
var DMReportsOK = null;
function showDMAlert() { 
  var $div = $('div.msg-728x90');
  $div.append($('<img src="/images/alert-top-block.gif" style="right:0;position:absolute;z-index:0">'));
}
function onDMcallBack(event)
{
   if (event.originalEvent) event = event.originalEvent;
   jQuery.support.cors = true;
   if (event.data === 'DM-disabled') DMReportsOK = false;
   else if (event.data=='DM-enabled') DMReportsOK = true;
   else if (typeof event.data == 'object' && event.data.sender &&             event.data.sender == 'DeveloperMedia' && event.data.application=='apps' &&
            event.data.action == 'reportEnabled') {
            DMReportsOK = event.data.data.enabled;
   }
   rkyhzyzzrf = !DMReportsOK;
}
function checkLoaded() { 
 var showBlockMsg = false;
 var block        = 'None';
 if (block === 'None' && typeof DMAds === 'undefined')
     block = 'ResourceBlocked';
 if (block === 'None' && !document.getElementById('adbp-tester'))     block = 'ResourceBlocked';
 if (block === 'None' && DMReportsOK === false)     block = 'DomModified';
 rkyhzyzzrf = block != 'None';
 if (qfuaihd) {
  $.ajax({ url:'/script/Content/Ajax/VS.aspx',    data:{'cadm':block},     cache:false, async:true });
};
 if (showBlockMsg && block != 'None')
    showDMAlert();
}
</script>

<script type="text/javascript"> // DEFERRED script

document.addEventListener('DOMContentLoaded', function() {

	new CodeBlocks().initialise('#contentdiv');
	
	$('.author-wrapper .description').shorten({showChars: 400});
	
	anchorAnimate();
	$('#RHSticky').sticky($('#stickyStop'));
	$('#ctl00_StickyBlock').sticky($('#stickyStop'));
	
	$('#__EVENTVALIDATION').attr('autocomplete', 'off');
	
	$('#joinBtn').css('visibility', 'visible');
	
	$('.oauth').click(function () {
	    $this = $(this);
	    href = $this.attr('href');
	    var myWindow = window.open(href, 'popup',
	                              'width=800,height=600,location=0,menubar=0,resizeable=0,scrollbars=0,toolbar=0');
	    myWindow.focus();
	    var timer = setInterval(function () {
	        if (myWindow.closed) {
	            clearInterval(timer);
	            // window.location.reload(); // May do a POST reload, shows a warning
	            window.location = window.location; // force a GET reload
	        }
	    }, 200);
	    return false;
	});
	
	var oSrchFlt = false, oSrchBox=false, srchBoxFoc=false;
	var sbar     = $('#sb_tb');
	var sfilter  = $('#SearchFilter');
	
	if (typeof(InitWatermark) !== 'undefined')
	  InitWatermark('sb_tb', 'Search for articles, questions, tips');
	if (sbar && sfilter) {
	  sfilter.removeClass('popup'); sfilter.hide(); sfilter.removeClass('open');
	  sbar.blur(function() {
	    if (!oSrchFlt) { sfilter.hide(); sfilter.removeClass('open'); }
	    srchBoxFoc = false;
	  });
	  sbar.focus(function() {
	    oSrchFlt   = false;
	    srchBoxFoc = true;
	    sfilter.show();
	    sfilter.addClass('open');
	  });
	  sbar.mouseleave(function()    { oSrchBox = false; });
	  sbar.mouseover(function()     { oSrchBox = true; });
	  sfilter.mouseleave(function() {
	    oSrchFlt=false;
	    if (!srchBoxFoc && !oSrchBox) { sfilter.hide(); sfilter.removeClass('open'); }
	  });
	  sfilter.mouseover(function()  { oSrchFlt = true; });
	}
	
	var ratingConfig_ctl00_RateArticle = {
	  objectRef:          '2_32169_3',
	  objectSubtypeId:    1,
	  objectTypeName:     'article',
	  ownerId:            25653,
	  votingType:         'None',
	  ratingDisplayMode:  'LargeStars',
	  resultDisplayMode:  'LargeStars',
	  ratingCallback:     null,
	  staticServer:       'https://www.codeproject.com',
	  baseDir:            '/script/Ratings/',
	  ratingUrl:          'ajax/RateItem.aspx',
	  histogramUrl:       'ajax/Histogram.aspx',
	  getRatingUrl:       'ajax/GetRatings.aspx',
	  width:              130,
	  forceComment:       false,
	  lowVoteThreshold:   0,
	  minRating:          1,
	  maxRating:          5
	};
	ratingCtrl_ctl00_RateArticle = new RatingControl('#ctl00_RateArticle_RatingTable',ratingConfig_ctl00_RateArticle);
	
	forumConfig_ctl00_MessageBoard_ratingConfig = {
	  objectTypeId:       3,
	  objectTypeName:     'message',
	  bulkResultSelector: '#_MessageBoardctl00_MessageBoard',
	  votingType:         'GoodOrBad',
	  staticServer:       'https://www.codeproject.com',
	  forceComment:       false,
	  ratingDisplayMode:  'TextOnly',
	  resultDisplayMode:  'TextOnly'
	};
	forumCtrl_ctl00_MessageBoard_rating = new RatingControl('#_MessageBoardctl00_MessageBoard .content', forumConfig_ctl00_MessageBoard_ratingConfig);
	forumConfig_ctl00_MessageBoard = {
	    objectName          : 'forumCtrl_ctl00_MessageBoard',
	    messageTypeId       : 3,
	    searchPrompt        : 'Search Comments',
	    smoothScroll        : true,
	    allowReporting      : false,
	    allowRating         : false,
	    allowRatingDisplay  : true,
	    allowReactions      : false,
	    forumDir            : '/script/Forums/',
	    staticServer        : 'https://www.codeproject.com',
	    switchMsgCallback   : null,
	    ratingControl       : forumCtrl_ctl00_MessageBoard_rating,
	    reactionControl     : null,
	    codeblockProcessor  : new CodeBlocks(),
	    getReportFormMethod : getReportFormHtml,
	    voteHiThreshold     : 5 - 0.5,
	    reportOptions       : [
	       { reportTypeId : 19, name : 'Abusive / Trolling'},
	       { reportTypeId : 20, name : 'Inappropriate'},
	       { reportTypeId : 5, name : 'Spam'},
	    ],
	};
	forumCtrl_ctl00_MessageBoard = new ForumControl('#ForumTable',forumConfig_ctl00_MessageBoard, -1);
	forumCtrl_ctl00_MessageBoard_rating.setConfig('ratingCallback', forumCtrl_ctl00_MessageBoard.showMessageRating);
	forumCtrl_ctl00_MessageBoard.Initialise();
	
	subscriptions_ctl00_MessageBoard = new Subscriptions(subscriptionConfig_ctl00_MessageBoard);
	subscriptions_ctl00_MessageBoard.initialise();
	
	cookieconsent.initialise({
	                                    enabled : true,
	                                    cookie  : { domain: 'codeproject.com' },
	                                    palette : {
	                                        popup: { background: '#ff9900' },
	                                        button: { background: '#f5d948' }
	                                    },
	                                    law :  {
	                                        showForAllRegions : true, 
	                                        countryCode : 'US' 
	                                    },
	                                    theme: 'edgeless',
	                                    type : 'opt-in-out',
	                                    content: {
	                                        message: 'Like every other website we use cookies. By using our site you acknowledge that you have read and understand our <a href=\'/info/cookie.aspx\'>Cookie Policy</a>, <a href=\'/info/privacy.aspx\'>Privacy Policy</a>, and our <a href=\'/info/TermsOfUse.aspx\'>Terms of Service</a>.',
	                                        href:    'https://www.codeproject.com/info/privacy.aspx',
	                                        dismiss: 'Ask me later'
	                                    },
	                                    revokable:true,
	                                    onStatusChange: function(status) {
	                                        $.ajax({
	                                		    dataType  : 'json',
	                                            data: JSON.stringify({ allowCookies : this.hasConsented() }),
	                                            url: '/script/membership/webservices/LoggedOnMemberservices.aspx/SetCookieConsent',
	                                            cache: false,
	                                            type: 'POST',
	                                            contentType: 'application/json'
	                                        })
	                                        console.log(this.hasConsented() ? 'enable cookies' : 'disable cookies');
	                                        console.log(this.hasAnswered() ? 'has answered' : 'did not answer');
	                                    },
	                                });
	
	$(window).on('message', onDMcallBack);
	setTimeout(checkLoaded, 4000);

})
</script>








</body>

</html>