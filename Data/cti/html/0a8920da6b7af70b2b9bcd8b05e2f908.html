<!DOCTYPE html>


















































<html class="hasSidebar hasPageActions hasBreadcrumb conceptual has-default-focus theme-light" lang="en-us" dir="ltr" data-css-variable-support="true" data-authenticated="false" data-auth-status-determined="false" data-target="docs" x-ms-format-detection="none">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta property="og:title" content="Manage Windows Defender Credential Guard (Windows 10) - Microsoft 365 Security" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.microsoft.com/en-us/windows/security/identity-protection/credential-guard/credential-guard-manage" />
			<meta property="og:description" content="Learn how to deploy and manage Windows Defender Credential Guard using Group Policy, the registry, or hardware readiness tools." />
		<meta property="og:image" content="https://docs.microsoft.com/en-us/media/logos/logo-ms-social.png" />
		<meta property="og:image:alt" content="Microsoft Logo" />

	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@docsmsft" />

	<meta name="color-scheme" content="light dark">


	<meta name="audience" content="ITPro" />
<meta name="author" content="Dansimp" />
<meta name="breadcrumb_path" content="/windows/windows-10/breadcrumb/toc.json" />
<meta name="depot_name" content="TechNet.windows-security" />
<meta name="description" content="Learn how to deploy and manage Windows Defender Credential Guard using Group Policy, the registry, or hardware readiness tools." />
<meta name="document_id" content="41c2cb44-269d-3334-019a-726eb5432f1c" />
<meta name="document_version_independent_id" content="251024cc-b818-18c6-a112-4ac0276cb4b1" />
<meta name="gitcommit" content="https://github.com/MicrosoftDocs/windows-docs-pr/blob/3118103fbff9878aece9f54b20d6b7f11e83acb5/windows/security/identity-protection/credential-guard/credential-guard-manage.md" />
<meta name="locale" content="en-us" />
<meta name="manager" content="dansimp" />
<meta name="ms.author" content="v-tea" />
<meta name="ms.collection" content="M365-identity-device-management" />
<meta name="ms.custom" content="CI 120967" />
<meta name="ms.custom" content="CSSTroubleshooting" />
<meta name="ms.localizationpriority" content="medium" />
<meta name="ms.mktglfcycl" content="explore" />
<meta name="ms.pagetype" content="security" />
<meta name="ms.prod" content="w10" />
<meta name="ms.reviewer" content="" />
<meta name="ms.sitesec" content="library" />
<meta name="ms.topic" content="article" />
<meta name="original_content_git_url" content="https://github.com/MicrosoftDocs/windows-docs-pr/blob/live/windows/security/identity-protection/credential-guard/credential-guard-manage.md" />
<meta name="schema" content="Conceptual" />
<meta name="search.ms_docsetname" content="windows-security" />
<meta name="search.ms_product" content="TechNet" />
<meta name="search.ms_sitename" content="Docs" />
<meta name="site_name" content="Docs" />
<meta name="uhfHeaderId" content="MSDocsHeader-M365-IT" />
<meta name="updated_at" content="2021-04-08 05:37 PM" />
<meta name="page_type" content="conceptual" />
<meta name="toc_rel" content="../toc.json" />
<meta name="pdf_url_template" content="https://docs.microsoft.com/pdfstore/en-us/TechNet.windows-security/{branchName}{pdfName}" />
<meta name="word_count" content="1882" />


	<meta name="scope" content="Windows 10" />
<link href="https://docs.microsoft.com/en-us/windows/security/identity-protection/credential-guard/credential-guard-manage" rel="canonical">
	<title>Manage Windows Defender Credential Guard (Windows 10) - Microsoft 365 Security | Microsoft Docs</title>

		<link rel="stylesheet" href="/_themes/docs.theme/master/en-us/_themes/styles/8147a557.site-ltr.css ">

	


	<script id="msdocs-script">
	var msDocs = {
		data: {
			timeOrigin: Date.now(),
			contentLocale: 'en-us',
			contentDir: 'ltr',
			userLocale: 'en-us',
			userDir: 'ltr',
			pageTemplate: 'Conceptual',
			brand: '',
			context: {

			},
			hasBinaryRating: true,
			hasGithubIssues: true,
			showFeedbackReport: false,
			enableTutorialFeedback: false,
			feedbackSystem: 'GitHub',
			feedbackGitHubRepo: 'MicrosoftDocs/windows-itpro-docs',
			feedbackProductUrl: 'https://support.microsoft.com/help/4021566/windows-10-send-feedback-to-microsoft-with-feedback-hub-app',
			contentGitUrl: 'https://github.com/MicrosoftDocs/windows-itpro-docs/blob/public/windows/security/identity-protection/credential-guard/credential-guard-manage.md',
			extendBreadcrumb: false,
			isEditDisplayable: true,
			hideViewSource: false,
			hasPageActions: true,
			hasBookmark: true,
			hasShare: true,
			hasRecommendations: false,
			contributors: [
						{ name: "Dansimp", url: "https://github.com/Dansimp" },
						{ name: "DCtheGeek", url: "https://github.com/DCtheGeek" },
						{ name: "Kateyanne", url: "https://github.com/Kateyanne" },
						{ name: "joinimran", url: "https://github.com/joinimran" },
						{ name: "v-lianna", url: "https://github.com/v-lianna" },
						{ name: "illfated", url: "https://github.com/illfated" },
						{ name: "HenkPoley", url: "https://github.com/HenkPoley" },
						{ name: "Teresa-Motiv", url: "https://github.com/Teresa-Motiv" },
						{ name: "Jreeds001", url: "https://github.com/Jreeds001" },
						{ name: "VLG17", url: "https://github.com/VLG17" },
						{ name: "denisebmsft", url: "https://github.com/denisebmsft" },
						{ name: "RAJU2529", url: "https://github.com/RAJU2529" },
						{ name: "ShenLanJohn", url: "https://github.com/ShenLanJohn" },
						{ name: "martyav", url: "https://github.com/martyav" },
						{ name: "get-itips", url: "https://github.com/get-itips" },
						{ name: "MSFTandrelom", url: "https://github.com/MSFTandrelom" },
						{ name: "MaratMussabekov", url: "https://github.com/MaratMussabekov" },
						{ name: "lizap", url: "https://github.com/lizap" },
						{ name: "VSC-Service-Account", url: "https://github.com/VSC-Service-Account" },
						{ name: "DaniHalfin", url: "https://github.com/DaniHalfin" },
						{ name: "Justinha", url: "https://github.com/Justinha" },
						{ name: "botmoto", url: "https://github.com/botmoto" },
						{ name: "greg-lindsay", url: "https://github.com/greg-lindsay" },
						{ name: "cchapin2020", url: "https://github.com/cchapin2020" },
						{ name: "lindspea", url: "https://github.com/lindspea" },
						{ name: "huypub", url: "https://github.com/huypub" },
						{ name: "DuncanmaMSFT", url: "https://github.com/DuncanmaMSFT" }
],
		},
		functions:{}
	};
	</script>
	<script src="https://wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>
	<script src="https://js.monitor.azure.com/scripts/c/ms.jsll-3.min.js"></script>
	<script>window.onedsAwa = window.awa; delete window.awa;</script>	
	<script src="/static/third-party/jsll/4.3.4/jsll-4.js"></script>
	<script nomodule src="/static/third-party/bluebird/3.5.0/bluebird.min.js" integrity="sha384-aD4BDeDGeLXLpPK4yKeqtZQa9dv4a/7mQ+4L5vwshIYH1Mc2BrXvHd32iHzYCQy5" crossorigin="anonymous"></script>
	<script nomodule src="/static/third-party/fetch/3.0.0/fetch.umd.min.js" integrity="sha384-EQIXrC5K2+7X8nGgLkB995I0/6jfAvvyG1ieZ+WYGxgJHFMD/alsG9fSDWvzb5Y1" crossorigin="anonymous"></script>
	<script nomodule src="/static/third-party/template/1.4.0/template.min.js" integrity="sha384-1zKzI6ldTVHMU7n0W2HpE/lhHI+UG4D9IIaxbj3kT2UhCWicdTuJkTtnKuu0CQzN" crossorigin="anonymous"></script>
	<script nomodule src="/static/third-party/url/0.5.7/url.min.js" integrity="sha384-vn7xBMtpSTfzaTRWxj0kVq0UcsbBrTOgZ/M1ISHqe1V358elYva+lfiEC+T8jLPc" crossorigin="anonymous"></script>
	<script src="/_themes/docs.theme/master/en-us/_themes/scripts/8a64e446.index-polyfills.js"></script>

		<script src="/_themes/docs.theme/master/en-us/_themes/scripts/2777d474.index-docs.js"></script>
</head>

<body lang="en-us" dir="ltr">
	<div class="header-holder has-default-focus">
		<a href="#main" class="skip-to-main-link has-outline-color-text visually-hidden-until-focused position-fixed has-inner-focus focus-visible top-0 left-0 right-0 has-padding-medium has-text-centered has-body-background-medium" tabindex="1">Skip to main content</a>
		
		<div id="ignite-banner-holder" class="has-default-focus has-overflow-hidden"></div>
		<div id="build-banner-holder" class="has-default-focus has-overflow-hidden"></div>
		
		<div hidden id="cookie-consent-holder"></div>
		<!-- liquid-tag banners global -->
		<div id="headerAreaHolder" data-bi-name="header">
<header role="banner" itemscope="itemscope" itemtype="http://schema.org/Organization">
	<div class="nav-bar">
		<div class="nav-bar-brand">
			<a itemprop="url" href="https://www.microsoft.com" aria-label="Microsoft" class="nav-bar-button">
				<div class="nav-bar-logo has-background-image theme-display is-light" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
				<div class="nav-bar-logo has-background-image theme-display is-dark is-high-contrast" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
			</a>
		</div>
	</div>
	<div class="nav-bar border-top is-hidden-mobile"></div>
</header>		</div>

						<div class="content-header uhf-container has-padding has-default-focus border-bottom-none" data-bi-name="content-header">
					<nav class="breadcrumb-holder has-padding-none has-padding-left-medium-tablet has-padding-right-medium-tablet has-padding-left-none-uhf-tablet has-padding-left-none-uhf-tablet has-padding-none-desktop flex-grow-1" data-bi-name="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList" role="navigation" aria-label="Breadcrumb">
						<ul id="page-breadcrumbs" class="breadcrumbs">
						</ul>
					</nav>
				<div class="content-header-controls">
					<button type="button" class="contents-button button" data-bi-name="contents-expand" aria-haspopup="true">
						<span class="icon"><span class="docon docon-menu" aria-hidden="true"></span></span>
						<span class="contents-expand-title">Contents</span>
					</button>
					<button type="button" class="ap-collapse-behavior ap-expanded button" data-bi-name="ap-collapse" aria-controls="action-panel">
						<span class="icon"><span class="docon docon-exit-mode" aria-hidden="true"></span></span>
						<span>Exit focus mode</span>
					</button>
				</div>
				<div class="has-padding-none-tablet has-padding-medium font-size-s display-flex justify-content-space-between flex-grow-1 page-action-holder">
					<ul class="is-hidden-mobile action-list justify-content-flex-start has-flex-justify-content-end-tablet display-flex flex-wrap-wrap flex-grow-1 is-unstyled">
						<li hidden>
							<a id="lang-link" class="button is-text has-inner-focus is-small is-icon-only-touch" title="Read in English" data-bi-name="language-toggle">
								<span id="lang-link-icon" class="icon docon docon-locale-globe" aria-hidden="true"></span>
								<span id="lang-link-text" class="is-visually-hidden-touch is-hidden-portrait"></span>
							</a>
						</li>
						<li>
							<button type="button" class="collection button is-text has-inner-focus is-small is-icon-only-touch" data-list-type="collection" data-bi-name="collection" title="Add to collection">
								<span class="icon" aria-hidden="true">
									<span class="docon docon-circle-addition has-text-primary"></span>
								</span>
								<span class="collection-status is-visually-hidden-touch is-hidden-portrait">Save</span>
							</button>
						</li>
							<li id="feedback-section-link">
								<a href="#feedback" class="button is-text has-inner-focus is-small is-icon-only-touch" data-bi-name="comments" title="Send feedback about this page">
									<span class="icon" aria-hidden="true">
										<span class="docon docon-comment-lines"></span>
									</span>
									<span class="is-visually-hidden-touch is-hidden-portrait">Feedback</span>
								</a>
							</li>
								<li id="contenteditbtn">
									<a href="https://github.com/MicrosoftDocs/windows-itpro-docs/blob/public/windows/security/identity-protection/credential-guard/credential-guard-manage.md" class="button is-text has-inner-focus is-icon-only-touch is-small" title="Edit This Document" data-bi-name="edit" data-original_content_git_url="https://github.com/MicrosoftDocs/windows-docs-pr/blob/live/windows/security/identity-protection/credential-guard/credential-guard-manage.md" data-original_content_git_url_template="{repo}/blob/{branch}/windows/security/identity-protection/credential-guard/credential-guard-manage.md" data-pr_repo="" data-pr_branch="">
									<span class="icon" aria-hidden="true">
										<span class="docon docon-edit-outline"></span>
									</span>
									<span class="is-visually-hidden-touch is-hidden-portrait">Edit</span>
								</a>
							</li>
						<li>
<div class="sharing dropdown has-caret">
	<button class="dropdown-trigger button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small is-icon-only-touch" aria-controls="sharing-menu" aria-expanded="false" title="Share This Document" data-bi-name="share">
		<span class="icon" aria-hidden="true">
			<span class="docon docon-sharing"></span>
		</span>
		<span class="is-visually-hidden-touch is-hidden-portrait">Share</span>
	</button>
	<div class="dropdown-menu has-padding-small" id="sharing-menu">
		<ul data-bi-name="share-links">
			<li>
				<a class="button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small share-twitter" data-bi-name="twitter">
					<span class="icon">
						<span class="docon docon-brand-twitter has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Twitter</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small share-linkedin" data-bi-name="linkedin">
					<span class="icon">
						<span class="docon docon-brand-linkedin has-text-primary" aria-hidden="true"></span>
					</span>
					<span>LinkedIn</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small share-facebook" data-bi-name="facebook">
					<span class="icon">
						<span class="docon docon-brand-facebook has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Facebook</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small share-email" data-bi-name="email">
					<span class="icon">
						<span class="docon docon-mail-message-fill has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Email</span>
				</a>
			</li>
		</ul>
	</div>
</div>						</li>
					</ul>
					<button type="button" class="border contents-button button is-small is-text is-hidden-tablet has-inner-focus" aria-label="Contents" data-bi-name="contents-expand">
						<span class="icon">
							<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
						</span>
						<span class="contents-expand-title">Table of contents</span>
					</button>
					<div class="is-invisible"></div>
					<div class="is-hidden-tablet level-item is-flexible level-right">
						<button type="button" class="page-actions-button button is-small is-text is-hidden-tablet has-inner-focus border is-full-height  has-margin-left-small" aria-label="Page Actions" data-bi-name="pageactions">
							<span class="icon">
								<span class="docon docon-more-vertical" aria-hidden="true"></span>
							</span>
						</button>
					</div>
				</div>
			</div>



		<div id="disclaimer-holder" class="has-overflow-hidden has-default-focus">
			<!-- liquid-tag banners sectional -->
		</div>
	</div>

	<div class="mainContainer  uhf-container has-top-padding  has-default-focus" data-bi-name="body">

		<div class="columns has-large-gaps is-gapless-mobile ">

			<div id="left-container" class="left-container is-hidden-mobile column is-one-third-tablet is-one-quarter-desktop">
				<nav id="affixed-left-container" class="position-fixed display-flex flex-direction-column" role="navigation" aria-label="Primary"></nav>
			</div>

			<section class="primary-holder column is-two-thirds-tablet is-three-quarters-desktop">
				<div class="columns is-gapless-mobile has-large-gaps ">


				<div id="main-column" class="column  is-full is-four-fifths-desktop ">

					<main id="main" role="main" class="content " data-bi-name="content" lang="en-us" dir="ltr">



						<h1 id="manage-windows-defender-credential-guard">Manage Windows Defender Credential Guard</h1>

						<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
							<li>
								<time class="is-invisible" data-article-date aria-label="Article review date" datetime="2021-04-08T17:37:08.374Z" data-article-date-source="git">4/8/2021</time>
							</li>
									<li class="readingTime">9 minutes to read</li>
								<li class="contributors-holder">
									<ul class="facepile has-margin-left-none is-small" data-bi-name="contributors">
														<li class="facepile-item">
															<a href="https://github.com/Dansimp" title="Dansimp" aria-label="DansimpGithub profile" data-src="https://github.com/Dansimp.png?size=32" data-contributor-name="Dansimp" class="facepile-item-coin"
															>
																<img class="facepile-item-coin-image durable-image" aria-hidden="true" src="https://github.com/Dansimp.png?size=32" role="presentation" onerror="this.className='facepile-item-coin-image durable-image has-error';"/>
																<span class="facepile-item-coin-text durable-image-fallback facepile-item-teal"aria-hidden="true">D</span>
															</a>
														</li>
														<li class="facepile-item">
															<a href="https://github.com/DCtheGeek" title="DCtheGeek" aria-label="DCtheGeekGithub profile" data-src="https://github.com/DCtheGeek.png?size=32" data-contributor-name="DCtheGeek" class="facepile-item-coin"
															>
																<img class="facepile-item-coin-image durable-image" aria-hidden="true" src="https://github.com/DCtheGeek.png?size=32" role="presentation" onerror="this.className='facepile-item-coin-image durable-image has-error';"/>
																<span class="facepile-item-coin-text durable-image-fallback facepile-item-red"aria-hidden="true">D</span>
															</a>
														</li>
														<li class="facepile-item">
															<a href="https://github.com/Kateyanne" title="Kateyanne" aria-label="KateyanneGithub profile" data-src="https://github.com/Kateyanne.png?size=32" data-contributor-name="Kateyanne" class="facepile-item-coin"
															>
																<img class="facepile-item-coin-image durable-image" aria-hidden="true" src="https://github.com/Kateyanne.png?size=32" role="presentation" onerror="this.className='facepile-item-coin-image durable-image has-error';"/>
																<span class="facepile-item-coin-text durable-image-fallback facepile-item-blue"aria-hidden="true">K</span>
															</a>
														</li>
														<li class="facepile-item">
															<a href="https://github.com/joinimran" title="joinimran" aria-label="joinimranGithub profile" data-src="https://github.com/joinimran.png?size=32" data-contributor-name="joinimran" class="facepile-item-coin"
															>
																<img class="facepile-item-coin-image durable-image" aria-hidden="true" src="https://github.com/joinimran.png?size=32" role="presentation" onerror="this.className='facepile-item-coin-image durable-image has-error';"/>
																<span class="facepile-item-coin-text durable-image-fallback facepile-item-teal"aria-hidden="true">j</span>
															</a>
														</li>
														<li class="facepile-item">
															<a href="https://github.com/v-lianna" title="v-lianna" aria-label="v-liannaGithub profile" data-src="https://github.com/v-lianna.png?size=32" data-contributor-name="v-lianna" class="facepile-item-coin"
															>
																<img class="facepile-item-coin-image durable-image" aria-hidden="true" src="https://github.com/v-lianna.png?size=32" role="presentation" onerror="this.className='facepile-item-coin-image durable-image has-error';"/>
																<span class="facepile-item-coin-text durable-image-fallback facepile-item-red"aria-hidden="true">v</span>
															</a>
														</li>
											<li class="facepile-item">
													<button aria-label="View all contributors" class="facepile-item-more" title="View all contributors">
														<div class="facepile-item-coin" aria-hidden="true">
															<span class="facepile-item-coin-text" aria-hidden="true">
																+22
															</span>
														</div>
													</button>
											</li>
									</ul>
								</li>
						</ul>

						<nav id="center-doc-outline" class="doc-outline is-hidden-desktop" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
							<h3>In this article</h3>
						</nav>

						<!-- <content> -->
							<p><strong>Applies to</strong></p>
<ul>
<li>Windows 10 Enterprise or Education SKUs</li>
<li>Windows ServerÂ 2016</li>
<li>Windows Server 2019</li>
</ul>
<h2 id="enable-windows-defender-credential-guard">Enable Windows Defender Credential Guard</h2>
<p>Windows Defender Credential Guard can be enabled either by using <a href="#enable-windows-defender-credential-guard-by-using-group-policy" data-linktype="self-bookmark">Group Policy</a>, the <a href="#enable-windows-defender-credential-guard-by-using-the-registry" data-linktype="self-bookmark">registry</a>, or the Hypervisor-Protected Code Integrity (HVCI) and Windows Defender Credential Guard <a href="dg-readiness-tool" data-linktype="relative-path">hardware readiness tool</a>. Windows Defender Credential Guard can also protect secrets in a Hyper-V virtual machine, just as it would on a physical machine.
The same set of procedures used to enable Windows Defender Credential Guard on physical machines applies also to virtual machines.</p>
<h3 id="enable-windows-defender-credential-guard-by-using-group-policy">Enable Windows Defender Credential Guard by using Group Policy</h3>
<p>You can use Group Policy to enable Windows Defender Credential Guard. This will add and enable the virtualization-based security features for you if needed.</p>
<ol>
<li><p>From the Group Policy Management Console, go to <strong>Computer Configuration</strong> -&gt; <strong>Administrative Templates</strong> -&gt; <strong>System</strong> -&gt; <strong>Device Guard</strong>.</p>
</li>
<li><p>Double-click <strong>Turn On Virtualization Based Security</strong>, and then click the <strong>Enabled</strong> option.</p>
</li>
<li><p>In the <strong>Select Platform Security Level</strong> box, choose <strong>Secure Boot</strong> or <strong>Secure Boot and DMA Protection</strong>.</p>
</li>
<li><p>In the <strong>Credential Guard Configuration</strong> box, click <strong>Enabled with UEFI lock</strong>, and then click <strong>OK</strong>. If you want to be able to turn off Windows Defender Credential Guard remotely, choose <strong>Enabled without lock</strong>.</p>
</li>
<li><p>In the <strong>Secure Launch Configuration</strong> box, choose <strong>Not Configured</strong>, <strong>Enabled</strong> or <strong>Disabled</strong>. Check <a href="../../threat-protection/windows-defender-system-guard/system-guard-secure-launch-and-smm-protection" data-linktype="relative-path">this article</a> for more details.</p>
<p><img src="images/credguard-gp-2.png" alt="Windows Defender Credential Guard Group Policy setting" data-linktype="relative-path"/></p>
</li>
<li><p>Close the Group Policy Management Console.</p>
</li>
</ol>
<p>To enforce processing of the group policy, you can run <code>gpupdate /force</code>.</p>
<h3 id="enable-windows-defender-credential-guard-by-using-intune">Enable Windows Defender Credential Guard by using Intune</h3>
<ol>
<li><p>From <strong>Home</strong>, click <strong>Microsoft Intune</strong>.</p>
</li>
<li><p>Click <strong>Device configuration</strong>.</p>
</li>
<li><p>Click <strong>Profiles</strong> &gt; <strong>Create Profile</strong> &gt; <strong>Endpoint protection</strong> &gt; <strong>Windows Defender Credential Guard</strong>.</p>
<div class="NOTE">
<p>Note</p>
<p>It will enable VBS and Secure Boot and you can do it with or without UEFI Lock. If you will need to disable Credential Guard remotely, enable it without UEFI lock.</p>
</div>
</li>
</ol>
<div class="TIP">
<p>Tip</p>
<p>You can also configure Credential Guard by using an account protection profile in endpoint security. See <a href="/en-us/mem/intune/protect/endpoint-security-account-protection-profile-settings" data-linktype="absolute-path">Account protection policy settings for endpoint security in Intune</a>.</p>
</div>
<h3 id="enable-windows-defender-credential-guard-by-using-the-registry">Enable Windows Defender Credential Guard by using the registry</h3>
<p>If you don't use Group Policy, you can enable Windows Defender Credential Guard by using the registry. Windows Defender Credential Guard uses virtualization-based security features which have to be enabled first on some operating systems.</p>
<h4 id="add-the-virtualization-based-security-features">Add the virtualization-based security features</h4>
<p>Starting with Windows 10, version 1607 and Windows Server 2016, enabling Windows features to use virtualization-based security is not necessary and this step can be skipped.</p>
<p>If you are using Windows 10, version 1507 (RTM) or Windows 10, version 1511, Windows features have to be enabled to use virtualization-based security.
You can do this by using either the Control Panel or the Deployment Image Servicing and Management tool (DISM).</p>
<div class="NOTE">
<p>Note</p>
<p>If you enable Windows Defender Credential Guard by using Group Policy, the steps to enable Windows features through Control Panel or DISM are not required. Group Policy will install Windows features for you.</p>
</div>
<p><strong>Add the virtualization-based security features by using Programs and Features</strong></p>
<ol>
<li><p>Open the Programs and Features control panel.</p>
</li>
<li><p>Click <strong>Turn Windows feature on or off</strong>.</p>
</li>
<li><p>Go to <strong>Hyper-V</strong> -&gt; <strong>Hyper-V Platform</strong>, and then select the <strong>Hyper-V Hypervisor</strong> check box.</p>
</li>
<li><p>Select the <strong>Isolated User Mode</strong> check box at the top level of the feature selection.</p>
</li>
<li><p>Click <strong>OK</strong>.</p>
</li>
</ol>
<p><strong>Add the virtualization-based security features to an offline image by using DISM</strong></p>
<ol>
<li><p>Open an elevated command prompt.</p>
</li>
<li><p>Add the Hyper-V Hypervisor by running the following command:</p>
<pre><code class="lang-console">dism /image:&lt;WIM file name&gt; /Enable-Feature /FeatureName:Microsoft-Hyper-V-Hypervisor /all
</code></pre>
</li>
<li><p>Add the Isolated User Mode feature by running the following command:</p>
<pre><code class="lang-console">dism /image:&lt;WIM file name&gt; /Enable-Feature /FeatureName:IsolatedUserMode
</code></pre>
<div class="NOTE">
<p>Note</p>
<p>In Windows 10, version 1607 and later, the Isolated User Mode feature has been integrated into the core operating system. Running the command in step 3 above is therefore no longer required.</p>
</div>
</li>
</ol>
<div class="TIP">
<p>Tip</p>
<p>You can also add these features to an online image by using either DISM or Configuration Manager.</p>
</div>
<h4 id="enable-virtualization-based-security-and-windows-defender-credential-guard">Enable virtualization-based security and Windows Defender Credential Guard</h4>
<ol>
<li><p>Open Registry Editor.</p>
</li>
<li><p>Enable virtualization-based security:</p>
<ol>
<li><p>Go to HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\DeviceGuard.</p>
</li>
<li><p>Add a new DWORD value named <strong>EnableVirtualizationBasedSecurity</strong>. Set the value of this registry setting to 1 to enable virtualization-based security and set it to 0 to disable it.</p>
</li>
<li><p>Add a new DWORD value named <strong>RequirePlatformSecurityFeatures</strong>. Set the value of this registry setting to 1 to use <strong>Secure Boot</strong> only or set it to 3 to use <strong>Secure Boot and DMA protection</strong>.</p>
</li>
</ol>
</li>
<li><p>Enable Windows Defender Credential Guard:</p>
<ol>
<li><p>Go to HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\LSA.</p>
</li>
<li><p>Add a new DWORD value named <strong>LsaCfgFlags</strong>. Set the value of this registry setting to 1 to enable Windows Defender Credential Guard with UEFI lock, set it to 2 to enable Windows Defender Credential Guard without lock, and set it to 0 to disable it.</p>
</li>
</ol>
</li>
<li><p>Close Registry Editor.</p>
</li>
</ol>
<div class="NOTE">
<p>Note</p>
<p>You can also enable Windows Defender Credential Guard by setting the registry entries in the <a href="/en-us/windows-hardware/customize/desktop/unattend/microsoft-windows-shell-setup-firstlogoncommands" data-linktype="absolute-path">FirstLogonCommands</a> unattend setting.</p>
</div>
<span id="hardware-readiness-tool"/>
<h3 id="enable-windows-defender-credential-guard-by-using-the-hvci-and-windows-defender-credential-guard-hardware-readiness-tool">Enable Windows Defender Credential Guard by using the HVCI and Windows Defender Credential Guard hardware readiness tool</h3>
<p>You can also enable Windows Defender Credential Guard by using the <a href="dg-readiness-tool" data-linktype="relative-path">HVCI and Windows Defender Credential Guard hardware readiness tool</a>.</p>
<pre><code class="lang-console">DG_Readiness_Tool.ps1 -Enable -AutoReboot
</code></pre>
<div class="IMPORTANT">
<p>Important</p>
<p>When running the HVCI and Windows Defender Credential Guard hardware readiness tool on a non-English operating system, within the script, change <code>$OSArch = $(gwmi win32_operatingsystem).OSArchitecture</code> to be <code>$OSArch = $((gwmi win32_operatingsystem).OSArchitecture).tolower()</code> instead, in order for the tool to work.</p>
<p>This is a known issue.</p>
</div>
<h3 id="review-windows-defender-credential-guard-performance">Review Windows Defender Credential Guard performance</h3>
<p><strong>Is Windows Defender Credential Guard running?</strong></p>
<p>You can view System Information to check that Windows Defender Credential Guard is running on a PC.</p>
<ol>
<li><p>Click <strong>Start</strong>, type <strong>msinfo32.exe</strong>, and then click <strong>System Information</strong>.</p>
</li>
<li><p>Click <strong>System Summary</strong>.</p>
</li>
<li><p>Confirm that <strong>Credential Guard</strong> is shown next to <strong>Virtualization-based security Services Running</strong>.</p>
<p>Here's an example:</p>
<div class="mx-imgBorder">
<p><img src="images/credguard-msinfo32.png" alt="System Information" data-linktype="relative-path"/></p>
</div>
</li>
</ol>
<p>You can also check that Windows Defender Credential Guard is running by using the <a href="dg-readiness-tool" data-linktype="relative-path">HVCI and Windows Defender Credential Guard hardware readiness tool</a>.</p>
<pre><code class="lang-console">DG_Readiness_Tool_v3.6.ps1 -Ready
</code></pre>
<div class="IMPORTANT">
<p>Important</p>
<p>When running the HVCI and Windows Defender Credential Guard hardware readiness tool on a non-English operating system, within the script, change <code>*$OSArch = $(gwmi win32_operatingsystem).OSArchitecture</code> to be <code>$OSArch = $((gwmi win32_operatingsystem).OSArchitecture).tolower()</code> instead, in order for the tool to work.</p>
<p>This is a known issue.</p>
</div>
<div class="NOTE">
<p>Note</p>
<p>For client machines that are running Windows 10 1703, LsaIso.exe is running whenever virtualization-based security is enabled for other features.</p>
</div>
<ul>
<li><p>We recommend enabling Windows Defender Credential Guard before a device is joined to a domain. If Windows Defender Credential Guard is enabled after domain join, the user and device secrets may already be compromised. In other words, enabling Credential Guard will not help to secure a device or identity that has already been compromised, which is why we recommend turning on Credential Guard as early as possible.</p>
</li>
<li><p>You should perform regular reviews of the PCs that have Windows Defender Credential Guard enabled. This can be done with security audit policies or WMI queries. Here's a list of WinInit event IDs to look for:</p>
<ul>
<li><p><strong>Event ID 13</strong> Windows Defender Credential Guard (LsaIso.exe) was started and will protect LSA credentials.</p>
</li>
<li><p><strong>Event ID 14</strong> Windows Defender Credential Guard (LsaIso.exe) configuration: [<strong>0x0</strong> | <strong>0x1</strong> | <strong>0x2</strong>], <strong>0</strong></p>
<ul>
<li><p>The first variable: <strong>0x1</strong> or <strong>0x2</strong> means that Windows Defender Credential Guard is configured to run. <strong>0x0</strong> means that it's not configured to run.</p>
</li>
<li><p>The second variable: <strong>0</strong> means that it's configured to run in protect mode. <strong>1</strong> means that it's configured to run in test mode. This variable should always be <strong>0</strong>.</p>
</li>
</ul>
</li>
<li><p><strong>Event ID 15</strong> Windows Defender Credential Guard (LsaIso.exe) is configured but the secure kernel is not running; continuing without Windows Defender Credential Guard.</p>
</li>
<li><p><strong>Event ID 16</strong> Windows Defender Credential Guard (LsaIso.exe) failed to launch: [error code]</p>
</li>
<li><p><strong>Event ID 17</strong> Error reading Windows Defender Credential Guard (LsaIso.exe) UEFI configuration: [error code]</p>
<p>You can also verify that TPM is being used for key protection by checking Event ID 51 in the <strong>Microsoft</strong> -&gt; <strong>Windows</strong> -&gt; <strong>Kernel-Boot</strong> event source. If you are running with a TPM, the TPM PCR mask value will be something other than 0.</p>
</li>
<li><p><strong>Event ID 51</strong> VSM Master Encryption Key Provisioning. Using cached copy status: <strong>0x0</strong>. Unsealing cached copy status: 0x1. New key generation status: 0x1. Sealing status: <strong>0x1</strong>. TPM PCR mask: <strong>0x0</strong>.</p>
</li>
</ul>
</li>
<li><p>You can use Windows PowerShell to determine whether credential guard is running on a client computer. On the computer in question, open an elevated PowerShell window and run the following command:</p>
<pre><code class="lang-powershell">(Get-CimInstance -ClassName Win32_DeviceGuard -Namespace root\Microsoft\Windows\DeviceGuard).SecurityServicesRunning
</code></pre>
<p>This command generates the following output:</p>
<ul>
<li><p><strong>0</strong>: Windows Defender Credential Guard is disabled (not running)</p>
</li>
<li><p><strong>1</strong>: Windows Defender Credential Guard is enabled (running)</p>
<div class="NOTE">
<p>Note</p>
<p>Checking the task list or Task Manager to see if LSAISO.exe is running is not a recommended method for determining whether Windows Defender Credential Guard is running.</p>
</div>
</li>
</ul>
</li>
</ul>
<h2 id="disable-windows-defender-credential-guard">Disable Windows Defender Credential Guard</h2>
<p>To disable Windows Defender Credential Guard, you can use the following set of procedures or <a href="#turn-off-with-hardware-readiness-tool" data-linktype="self-bookmark">the Device Guard and Credential Guard hardware readiness tool</a>. If Credential Guard was enabled with UEFI Lock then you must use the following procedure as the settings are persisted in EFI (firmware) variables and it will require physical presence at the machine to press a function key to accept the change. If Credential Guard was enabled without UEFI Lock then you can turn it off by using Group Policy.</p>
<ol>
<li><p>If you used Group Policy, disable the Group Policy setting that you used to enable Windows Defender Credential Guard (<strong>Computer Configuration</strong> -&gt; <strong>Administrative Templates</strong> -&gt; <strong>System</strong> -&gt; <strong>Device Guard</strong> -&gt; <strong>Turn on Virtualization Based Security</strong>).</p>
</li>
<li><p>Delete the following registry settings:</p>
<ul>
<li>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\LSA\LsaCfgFlags</li>
<li>HKEY_LOCAL_MACHINE\Software\Policies\Microsoft\Windows\DeviceGuard\LsaCfgFlags</li>
</ul>
</li>
<li><p>If you also wish to disable virtualization-based security delete the following registry settings:</p>
<ul>
<li><p>HKEY_LOCAL_MACHINE\Software\Policies\Microsoft\Windows\DeviceGuard\EnableVirtualizationBasedSecurity</p>
</li>
<li><p>HKEY_LOCAL_MACHINE\Software\Policies\Microsoft\Windows\DeviceGuard\RequirePlatformSecurityFeatures</p>
<div class="IMPORTANT">
<p>Important</p>
<p>If you manually remove these registry settings, make sure to delete them all. If you don't remove them all, the device might go into BitLocker recovery.</p>
</div>
</li>
</ul>
</li>
<li><p>Delete the Windows Defender Credential Guard EFI variables by using bcdedit. From an elevated command prompt, type the following commands:</p>
<pre><code class="lang-console">mountvol X: /s
copy %WINDIR%\System32\SecConfig.efi X:\EFI\Microsoft\Boot\SecConfig.efi /Y
bcdedit /create {0cb3b571-2f2e-4343-a879-d86a476d7215} /d &quot;DebugTool&quot; /application osloader
bcdedit /set {0cb3b571-2f2e-4343-a879-d86a476d7215} path &quot;\EFI\Microsoft\Boot\SecConfig.efi&quot;
bcdedit /set {bootmgr} bootsequence {0cb3b571-2f2e-4343-a879-d86a476d7215}
bcdedit /set {0cb3b571-2f2e-4343-a879-d86a476d7215} loadoptions DISABLE-LSA-ISO
bcdedit /set {0cb3b571-2f2e-4343-a879-d86a476d7215} device partition=X:
mountvol X: /d
</code></pre>
</li>
<li><p>Restart the PC.</p>
</li>
<li><p>Accept the prompt to disable Windows Defender Credential Guard.</p>
</li>
<li><p>Alternatively, you can disable the virtualization-based security features to turn off Windows Defender Credential Guard.</p>
<div class="NOTE">
<p>Note</p>
<p>The PC must have one-time access to a domain controller to decrypt content, such as files that were encrypted with EFS. If you want to turn off both Windows Defender Credential Guard and virtualization-based security, run the following bcdedit commands after turning off all virtualization-based security Group Policy and registry settings:</p>
<pre><code class="lang-console">bcdedit /set {0cb3b571-2f2e-4343-a879-d86a476d7215} loadoptions DISABLE-LSA-ISO,DISABLE-VBS
bcdedit /set vsmlaunchtype off
</code></pre>
</div>
</li>
</ol>
<p>For more info on virtualization-based security and HVCI, see <a href="../../threat-protection/device-guard/enable-virtualization-based-protection-of-code-integrity" data-linktype="relative-path">Enable virtualization-based protection of code integrity</a>.</p>
<div class="NOTE">
<p>Note</p>
<p>Credential Guard and Device Guard are not supported when using Azure Gen 1 VMs. These options are available with Gen 2 VMs only.</p>
</div>
<span id="turn-off-with-hardware-readiness-tool"/>
<h4 id="disable-windows-defender-credential-guard-by-using-the-hvci-and-windows-defender-credential-guard-hardware-readiness-tool">Disable Windows Defender Credential Guard by using the HVCI and Windows Defender Credential Guard hardware readiness tool</h4>
<p>You can also disable Windows Defender Credential Guard by using the <a href="dg-readiness-tool" data-linktype="relative-path">HVCI and Windows Defender Credential Guard hardware readiness tool</a>.</p>
<pre><code class="lang-powershell">DG_Readiness_Tool_v3.6.ps1 -Disable -AutoReboot
</code></pre>
<div class="IMPORTANT">
<p>Important</p>
<p>When running the HVCI and Windows Defender Credential Guard hardware readiness tool on a non-English operating system, within the script, change <code>*$OSArch = $(gwmi win32_operatingsystem).OSArchitecture</code> to be <code>$OSArch = $((gwmi win32_operatingsystem).OSArchitecture).tolower()</code> instead, in order for the tool to work.</p>
<p>This is a known issue.</p>
</div>
<h4 id="disable-windows-defender-credential-guard-for-a-virtual-machine">Disable Windows Defender Credential Guard for a virtual machine</h4>
<p>From the host, you can disable Windows Defender Credential Guard for a virtual machine:</p>
<pre><code class="lang-powershell">Set-VMSecurity -VMName &lt;VMName&gt; -VirtualizationBasedSecurityOptOut $true
</code></pre>

						<!-- </content> -->

						</main>

						<!-- page rating section -->
								<div class="is-hidden-desktop border-top has-margin-top-large has-padding-top-large binary-rating-holder">
									
	
	

	<div class="feedback-verbatim border-bottom has-padding-bottom-large has-margin-bottom-small" data-bi-name="rating">
    <div class="binary-rating">
        <div class="binary-rating-buttons">
				<h3 class="font-weight-semibold has-margin-top-none has-margin-bottom-small font-size-h4 has-margin-bottom-medium">Is this page helpful?</h3>
			<div>
                <button class="thumb-rating like has-inner-focus" title="Yes" data-bi-name="rating-yes" aria-expanded="false" data-bi-sat="1" aria-controls="rating-container-desktop">
                    <span aria-hidden="true" class="icon docon docon-like"></span>
                    <span>Yes</span>
                </button>
                <button class="thumb-rating dislike has-inner-focus" title="No" data-bi-name="rating-no" data-bi-sat="0" aria-expanded="false" aria-controls="rating-container-desktop">
                    <span aria-hidden="true" class="icon docon docon-dislike"></span>
                    <span>No</span>
                </button>
            </div>
        </div>
        <form class="feedback-verbatim-form is-hidden" id="rating-container-desktop">
            <div class="verbatim-textarea box position-relative box-shadow-none border has-margin-top-small has-padding-extra-small font-size-xs">
                <label for="rating-textarea-desktop" class="visually-hidden">Any additional feedback?</label>
                <textarea id="rating-textarea-desktop" rows="4" maxlength="999" placeholder="Any additional feedback?" required class="textarea border-none box-shadow-none has-inner-focus"></textarea>
		    </div>
			<p class="font-size-xs has-line-height-reset">Feedback will be sent to Microsoft: By pressing the submit button, your feedback will be used to improve Microsoft products and services. <a href="https://privacy.microsoft.com/en-us/privacystatement">Privacy policy.</a></p>
            <div class="buttons is-right margin-top-xs has-margin-right-extra-small">
                <button class="skip-rating button is-transparent has-text-primary is-small border-none" type="button">Skip</button>
                <button class="submit-rating button is-primary is-small" data-bi-name="rating-verbatim" disabled type="submit">Submit</button>
            </div>
        </form>
    </div>
    <div class="thankyou-rating is-hidden" tabindex="-1">
        <p>Thank you.</p>
    </div>
</div>									</div>
						<!-- end page rating section -->


						<!-- recommendations section -->
						<!-- end recommendations section -->

						<!-- feedback section -->
<section class="feedback-section position-relative" data-bi-name="feedback-section">

    <h2 id="feedback" class="title is-3 has-margin-top-large">Feedback</h2>

    <div class="alert choose-feedback-type">
        <p aria-hidden="true" id="send-feedback-about">Submit and view feedback for</p>

        <div class="choose-feedback-buttons margin-top-xs">
                <a class="button has-external-link-indicator feedback-type-product has-margin-bottom-small" aria-label="Send feedback about this product" href="https://support.microsoft.com/help/4021566/windows-10-send-feedback-to-microsoft-with-feedback-hub-app" data-bi-name="product-feedback">
                    <span>This product</span>
                </a>

			<a class="button feedback-type-product has-margin-bottom-small github-link" aria-label="Send feedback about this page" data-bi-name="create-issue-on-github">
				<span aria-hidden="true" class="docon docon-brand-github has-padding-right-extra-small"></span>
				<span>This page</span>
			</a>
        </div>
    </div>

    <div class="action-container display-flex justify-content-flex-end has-margin-top-small has-margin-bottom-small">
        <a class="view-on-github has-external-link-indicator" data-bi-name="view-on-github" href="https://github.com/MicrosoftDocs/windows-itpro-docs/issues">
            <span aria-hidden="true" class="docon docon-brand-github"></span>
            <span>View all page feedback</span>
        </a>
    </div>
</section>
						<!-- end feedback section -->

						<!-- feedback report section -->
						<!-- end feedback report section -->

						<div class="border-top is-visible-interactive has-default-focus has-margin-top-large ">



	<footer id="footer-interactive" data-bi-name="footer" class="footer-layout">
	<div class="display-flex is-full-height has-padding-right-extra-large-desktop">
			<a data-mscc-ic="false" class="locale-selector-link flex-shrink-0" href="#" data-bi-name="select-locale"><span class="icon docon docon-world font-size-l has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text"></span></a>
		<div class="has-margin-left-medium has-margin-right-medium flex-shrink-0">
<div class="dropdown has-caret-up">
	<button class="dropdown-trigger button is-transparent is-small is-icon-only-touch has-inner-focus theme-dropdown-trigger"
		aria-controls="theme-menu-interactive" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span>Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu-interactive" role="menu">
		<ul class="theme-selector has-padding-small">
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="light">
					<span class="theme-light has-margin-right-small">
						<span
							class="theme-selector-icon css-variable-support border is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
Light					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="dark">
					<span class="theme-dark has-margin-right-small">
						<span
							class="border theme-selector-icon css-variable-support is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
Dark					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="high-contrast">
					<span class="theme-high-contrast has-margin-right-small">
						<span
							class="border theme-selector-icon css-variable-support is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
High contrast					</span>
				</button>
			</li>
		</ul>
	</div>
</div>		</div>
	</div>
	<ul class="links" data-bi-name="footerlinks">
		<li class="manage-cookies-holder" hidden></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/teamblog" data-bi-name="bloglink">Blog</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/contribute" data-bi-name="contributorGuide">Contribute</a></li>
					<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
				<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
		<li>&copy; Microsoft 2021</li>
	</ul>
</footer>
						</div>
					</div>
					
					<div class="font-size-s right-container column is-one-quarter is-one-fifth-desktop is-hidden-mobile is-hidden-tablet-only" data-bi-name="pageactions" role="complementary" aria-label="Page Actions">
						<div id="affixed-right-container" class="doc-outline position-fixed is-vertically-scrollable">
								
	
	

	<div class="feedback-verbatim border-bottom has-padding-bottom-small has-margin-bottom-small" data-bi-name="rating">
    <div class="binary-rating">
        <div class="binary-rating-buttons">

				<h3 class="font-weight-semibold has-margin-top-none has-margin-bottom-small">Is this page helpful?</h3>
			<div>
                <button class="thumb-rating like has-inner-focus" title="Yes" data-bi-name="rating-yes" aria-expanded="false" data-bi-sat="1" aria-controls="rating-container-mobile">
                    <span aria-hidden="true" class="icon docon docon-like"></span>
                    <span>Yes</span>
                </button>
                <button class="thumb-rating dislike has-inner-focus" title="No" data-bi-name="rating-no" data-bi-sat="0" aria-expanded="false" aria-controls="rating-container-mobile">
                    <span aria-hidden="true" class="icon docon docon-dislike"></span>
                    <span>No</span>
                </button>
            </div>
        </div>
        <form class="feedback-verbatim-form is-hidden" id="rating-container-mobile">
            <div class="verbatim-textarea box position-relative box-shadow-none border has-margin-top-small has-padding-extra-small font-size-xs">
                <label for="rating-textarea-mobile" class="visually-hidden">Any additional feedback?</label>
                <textarea id="rating-textarea-mobile" rows="4" maxlength="999" placeholder="Any additional feedback?" required class="textarea border-none box-shadow-none has-inner-focus"></textarea>
		    </div>
			<p class="font-size-xs has-line-height-reset">Feedback will be sent to Microsoft: By pressing the submit button, your feedback will be used to improve Microsoft products and services. <a href="https://privacy.microsoft.com/en-us/privacystatement">Privacy policy.</a></p>
            <div class="buttons is-right margin-top-xs has-margin-right-extra-small">
                <button class="skip-rating button is-transparent has-text-primary is-small border-none" type="button">Skip</button>
                <button class="submit-rating button is-primary is-small" data-bi-name="rating-verbatim" disabled type="submit">Submit</button>
            </div>
        </form>
    </div>
    <div class="thankyou-rating is-hidden" tabindex="-1">
        <p>Thank you.</p>
    </div>
</div>							<nav id="side-doc-outline" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
								<h3>In this article</h3>
							</nav>
						</div>
					</div>

					<!--end of div.columns -->
				</div>

			<!--end of .primary-holder -->
			</section>

			<aside id="interactive-container" class="interactive-container is-visible-interactive column has-body-background-dark ">
			</aside>
		</div>

		<!--end of .mainContainer -->
	</div>

	<section class="border-top has-default-focus is-hidden-interactive has-margin-top-large ">



	<footer id="footer" data-bi-name="footer" class="footer-layout uhf-container has-padding" role="contentinfo">
	<div class="display-flex is-full-height has-padding-right-extra-large-desktop">
			<a data-mscc-ic="false" class="locale-selector-link flex-shrink-0" href="#" data-bi-name="select-locale"><span class="icon docon docon-world font-size-l has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text"></span></a>
		<div class="has-margin-left-medium has-margin-right-medium flex-shrink-0">
<div class="dropdown has-caret-up">
	<button class="dropdown-trigger button is-transparent is-small is-icon-only-touch has-inner-focus theme-dropdown-trigger"
		aria-controls="theme-menu" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span>Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu" role="menu">
		<ul class="theme-selector has-padding-small">
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="light">
					<span class="theme-light has-margin-right-small">
						<span
							class="theme-selector-icon css-variable-support border is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
Light					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="dark">
					<span class="theme-dark has-margin-right-small">
						<span
							class="border theme-selector-icon css-variable-support is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
Dark					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="high-contrast">
					<span class="theme-high-contrast has-margin-right-small">
						<span
							class="border theme-selector-icon css-variable-support is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
High contrast					</span>
				</button>
			</li>
		</ul>
	</div>
</div>		</div>
	</div>
	<ul class="links" data-bi-name="footerlinks">
		<li class="manage-cookies-holder" hidden></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/teamblog" data-bi-name="bloglink">Blog</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/contribute" data-bi-name="contributorGuide">Contribute</a></li>
					<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
				<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
		<li>&copy; Microsoft 2021</li>
	</ul>
</footer>
	</section>

	<div id="action-panel" role="region" aria-label="Action Panel" class="action-panel has-default-focus" tabindex="-1"></div>
</body>
</html>
