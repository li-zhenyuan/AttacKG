<!DOCTYPE html>

















































<html class="hasSidebar hasPageActions hasBreadcrumb conceptual has-default-focus theme-light" lang="en-us" dir="ltr" data-css-variable-support="true" data-authenticated="false" data-auth-status-determined="false" data-target="docs" x-ms-format-detection="none">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta property="og:title" content="Using security policies to restrict NTLM traffic" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-r2-and-2008/jj865668(v=ws.10)" />

	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@docsmsft" />

	<meta name="color-scheme" content="light dark">


	<meta name="author" content="Archiveddocs" />
<meta name="breadcrumb_path" content="/previous-versions/windows/it-pro/breadcrumb/toc.json" />
<meta name="current_version_url" content="https://docs.microsoft.com/windows-server/windows-server" />
<meta name="depot_name" content="MSDN.windows-server-2008-R2-and-2008" />
<meta name="document_id" content="93017157-c6c2-348c-5226-fc3edc9d4ce0" />
<meta name="document_version_independent_id" content="c561f93e-a200-f769-a031-bfcfe78c465b" />
<meta name="gitcommit" content="https://docs-archive.visualstudio.com/DefaultCollection/docs-archive-project/_git/windows-itpro-docs-archive-2-pr/commit/ab1a0ea5e8ffb7765f2d7524fa1233618671e6e1?path=/windows-server-2008-R2-and-2008/jj865668(v=ws.10).md&amp;_a=contents" />
<meta name="is_archived" content="true" />
<meta name="locale" content="en-us" />
<meta name="ms.author" content="Archiveddocs" />
<meta name="ms.date" content="11/27/2012" />
<meta name="ms.prod" content="windows-server-2008-R2" />
<meta name="ms.topic" content="archived" />
<meta name="ms:assetid" content="27325430-676f-43bd-8170-a9ba639a03cf" />
<meta name="ms:contentKeyID" content="50407958" />
<meta name="ms:mtpsurl" content="https://technet.microsoft.com/en-us/library/JJ865668(v=WS.10)" />
<meta name="mtps_version" content="v=WS.10" />
<meta name="original_content_git_url" content="https://docs-archive.visualstudio.com/DefaultCollection/docs-archive-project/_git/windows-itpro-docs-archive-2-pr?path=/windows-server-2008-R2-and-2008/jj865668(v=ws.10).md&amp;version=GBlive&amp;_a=contents" />
<meta name="ROBOTS" content="NOINDEX,NOFOLLOW" />
<meta name="search.ms_docsetname" content="windows-server-2008-R2-and-2008" />
<meta name="search.ms_product" content="MSDN" />
<meta name="search.ms_sitename" content="Docs" />
<meta name="site_name" content="Docs" />
<meta name="Title" content="Using security policies to restrict NTLM traffic" />
<meta name="TOCTitle" content="Using security policies to restrict NTLM traffic" />
<meta name="uhfHeaderId" content="MSDocsHeader-Archive" />
<meta name="updated_at" content="2018-03-20 01:44 AM" />
<meta name="page_type" content="conceptual" />
<meta name="toc_rel" content="toc.json" />
<meta name="word_count" content="1541" />


	<meta name="scope" content="Server" />
<link href="https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-r2-and-2008/jj865668(v=ws.10)" rel="canonical">
	<title>Using security policies to restrict NTLM traffic | Microsoft Docs</title>

		<link rel="stylesheet" href="/_themes/docs.theme/master/en-us/_themes/styles/8147a557.site-ltr.css ">

	


	<script id="msdocs-script">
	var msDocs = {
		data: {
			timeOrigin: Date.now(),
			contentLocale: 'en-us',
			contentDir: 'ltr',
			userLocale: 'en-us',
			userDir: 'ltr',
			pageTemplate: 'Conceptual',
			brand: '',
			context: {

			},
			hasBinaryRating: false,
			hasGithubIssues: false,
			showFeedbackReport: false,
			enableTutorialFeedback: false,
			feedbackSystem: 'None',
			feedbackGitHubRepo: '',
			feedbackProductUrl: '',
			contentGitUrl: 'https://docs-archive.visualstudio.com/DefaultCollection/docs-archive-project/_git/windows-itpro-docs-archive-2-pr?path=/windows-server-2008-R2-and-2008/jj865668(v=ws.10).md&version=GBlive&_a=contents',
			extendBreadcrumb: true,
			isEditDisplayable: false,
			hideViewSource: false,
			hasPageActions: true,
			hasBookmark: true,
			hasShare: true,
			hasRecommendations: false,
		},
		functions:{}
	};
	</script>
	<script src="https://wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>
	<script src="https://js.monitor.azure.com/scripts/c/ms.jsll-3.min.js"></script>
	<script>window.onedsAwa = window.awa; delete window.awa;</script>	
	<script src="/static/third-party/jsll/4.3.4/jsll-4.js"></script>
	<script nomodule src="/static/third-party/bluebird/3.5.0/bluebird.min.js" integrity="sha384-aD4BDeDGeLXLpPK4yKeqtZQa9dv4a/7mQ+4L5vwshIYH1Mc2BrXvHd32iHzYCQy5" crossorigin="anonymous"></script>
	<script nomodule src="/static/third-party/fetch/3.0.0/fetch.umd.min.js" integrity="sha384-EQIXrC5K2+7X8nGgLkB995I0/6jfAvvyG1ieZ+WYGxgJHFMD/alsG9fSDWvzb5Y1" crossorigin="anonymous"></script>
	<script nomodule src="/static/third-party/template/1.4.0/template.min.js" integrity="sha384-1zKzI6ldTVHMU7n0W2HpE/lhHI+UG4D9IIaxbj3kT2UhCWicdTuJkTtnKuu0CQzN" crossorigin="anonymous"></script>
	<script nomodule src="/static/third-party/url/0.5.7/url.min.js" integrity="sha384-vn7xBMtpSTfzaTRWxj0kVq0UcsbBrTOgZ/M1ISHqe1V358elYva+lfiEC+T8jLPc" crossorigin="anonymous"></script>
	<script src="/_themes/docs.theme/master/en-us/_themes/scripts/8a64e446.index-polyfills.js"></script>

		<script src="/_themes/docs.theme/master/en-us/_themes/scripts/2777d474.index-docs.js"></script>
</head>

<body lang="en-us" dir="ltr">
	<div class="header-holder has-default-focus">
		<a href="#main" class="skip-to-main-link has-outline-color-text visually-hidden-until-focused position-fixed has-inner-focus focus-visible top-0 left-0 right-0 has-padding-medium has-text-centered has-body-background-medium" tabindex="1">Skip to main content</a>
		
		<div id="ignite-banner-holder" class="has-default-focus has-overflow-hidden"></div>
		<div id="build-banner-holder" class="has-default-focus has-overflow-hidden"></div>
		
		<div hidden id="cookie-consent-holder"></div>
		<!-- liquid-tag banners global -->
		<div id="headerAreaHolder" data-bi-name="header">
<header role="banner" itemscope="itemscope" itemtype="http://schema.org/Organization">
	<div class="nav-bar">
		<div class="nav-bar-brand">
			<a itemprop="url" href="https://www.microsoft.com" aria-label="Microsoft" class="nav-bar-button">
				<div class="nav-bar-logo has-background-image theme-display is-light" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
				<div class="nav-bar-logo has-background-image theme-display is-dark is-high-contrast" role="presentation" aria-hidden="true" itemprop="logo" itemscope="itemscope"></div>
			</a>
		</div>
	</div>
	<div class="nav-bar border-top is-hidden-mobile"></div>
</header>		</div>

						<div class="content-header uhf-container has-padding has-default-focus border-bottom-none" data-bi-name="content-header">
					<nav class="breadcrumb-holder has-padding-none has-padding-left-medium-tablet has-padding-right-medium-tablet has-padding-left-none-uhf-tablet has-padding-left-none-uhf-tablet has-padding-none-desktop flex-grow-1" data-bi-name="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList" role="navigation" aria-label="Breadcrumb">
						<ul id="page-breadcrumbs" class="breadcrumbs">
						</ul>
					</nav>
				<div class="content-header-controls">
					<button type="button" class="contents-button button" data-bi-name="contents-expand" aria-haspopup="true">
						<span class="icon"><span class="docon docon-menu" aria-hidden="true"></span></span>
						<span class="contents-expand-title">Contents</span>
					</button>
					<button type="button" class="ap-collapse-behavior ap-expanded button" data-bi-name="ap-collapse" aria-controls="action-panel">
						<span class="icon"><span class="docon docon-exit-mode" aria-hidden="true"></span></span>
						<span>Exit focus mode</span>
					</button>
				</div>
				<div class="has-padding-none-tablet has-padding-medium font-size-s display-flex justify-content-space-between flex-grow-1 page-action-holder">
					<ul class="is-hidden-mobile action-list justify-content-flex-start has-flex-justify-content-end-tablet display-flex flex-wrap-wrap flex-grow-1 is-unstyled">
						<li hidden>
							<a id="lang-link" class="button is-text has-inner-focus is-small is-icon-only-touch" title="Read in English" data-bi-name="language-toggle">
								<span id="lang-link-icon" class="icon docon docon-locale-globe" aria-hidden="true"></span>
								<span id="lang-link-text" class="is-visually-hidden-touch is-hidden-portrait"></span>
							</a>
						</li>
						<li>
							<button type="button" class="collection button is-text has-inner-focus is-small is-icon-only-touch" data-list-type="collection" data-bi-name="collection" title="Add to collection">
								<span class="icon" aria-hidden="true">
									<span class="docon docon-circle-addition has-text-primary"></span>
								</span>
								<span class="collection-status is-visually-hidden-touch is-hidden-portrait">Save</span>
							</button>
						</li>
						<li>
<div class="sharing dropdown has-caret">
	<button class="dropdown-trigger button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small is-icon-only-touch" aria-controls="sharing-menu" aria-expanded="false" title="Share This Document" data-bi-name="share">
		<span class="icon" aria-hidden="true">
			<span class="docon docon-sharing"></span>
		</span>
		<span class="is-visually-hidden-touch is-hidden-portrait">Share</span>
	</button>
	<div class="dropdown-menu has-padding-small" id="sharing-menu">
		<ul data-bi-name="share-links">
			<li>
				<a class="button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small share-twitter" data-bi-name="twitter">
					<span class="icon">
						<span class="docon docon-brand-twitter has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Twitter</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small share-linkedin" data-bi-name="linkedin">
					<span class="icon">
						<span class="docon docon-brand-linkedin has-text-primary" aria-hidden="true"></span>
					</span>
					<span>LinkedIn</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small share-facebook" data-bi-name="facebook">
					<span class="icon">
						<span class="docon docon-brand-facebook has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Facebook</span>
				</a>
			</li>
			<li>
				<a class="button is-text is-fullwidth justify-content-flex-start has-inner-focus is-small share-email" data-bi-name="email">
					<span class="icon">
						<span class="docon docon-mail-message-fill has-text-primary" aria-hidden="true"></span>
					</span>
					<span>Email</span>
				</a>
			</li>
		</ul>
	</div>
</div>						</li>
					</ul>
					<button type="button" class="border contents-button button is-small is-text is-hidden-tablet has-inner-focus" aria-label="Contents" data-bi-name="contents-expand">
						<span class="icon">
							<span class="docon docon-editor-list-bullet" aria-hidden="true"></span>
						</span>
						<span class="contents-expand-title">Table of contents</span>
					</button>
					<div class="is-invisible"></div>
					<div class="is-hidden-tablet level-item is-flexible level-right">
						<button type="button" class="page-actions-button button is-small is-text is-hidden-tablet has-inner-focus border is-full-height  has-margin-left-small" aria-label="Page Actions" data-bi-name="pageactions">
							<span class="icon">
								<span class="docon docon-more-vertical" aria-hidden="true"></span>
							</span>
						</button>
					</div>
				</div>
			</div>



		<div id="disclaimer-holder" class="has-overflow-hidden has-default-focus">
			<!-- liquid-tag banners sectional -->
		</div>
	</div>

	<div class="mainContainer  uhf-container has-top-padding  has-default-focus" data-bi-name="body">

		<div class="columns has-large-gaps is-gapless-mobile ">

			<div id="left-container" class="left-container is-hidden-mobile column is-one-third-tablet is-one-quarter-desktop">
				<nav id="affixed-left-container" class="position-fixed display-flex flex-direction-column" role="navigation" aria-label="Primary"></nav>
			</div>

			<section class="primary-holder column is-two-thirds-tablet is-three-quarters-desktop">
				<div class="columns is-gapless-mobile has-large-gaps ">


				<div id="main-column" class="column  is-full is-four-fifths-desktop ">

					<main id="main" role="main" class="content " data-bi-name="content" lang="en-us" dir="ltr">



						<h1 id="using-security-policies-to-restrict-ntlm-traffic">Using security policies to restrict NTLM traffic</h1>

						<ul class="metadata page-metadata" data-bi-name="page info" lang="en-us" dir="ltr">
							<li>
								<time class="is-invisible" data-article-date aria-label="Article review date" datetime="2012-11-27T00:00:00.000Z" data-article-date-source="ms.date">11/27/2012</time>
							</li>
									<li class="readingTime">7 minutes to read</li>
						</ul>

						<nav id="center-doc-outline" class="doc-outline is-hidden-desktop" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
							<h3>In this article</h3>
						</nav>

						<!-- <content> -->
							<p>Updated: November 21, 2012</p>
<p>Applies To: Windows 7, Windows 8, Windows Server 2008 R2, Windows Server 2012</p>
<p>This topic describes the available security policies introduced in Windows Server 2008 R2 and Windows 7 and how you can use them to restrict NTLM traffic in your system and domain.</p>
<p>For every policy to restrict NTLM, there are policies or options to first audit NTLM traffic. This permits you to log and analyze authentication activity between clients and member servers, or within a domain before restricting the traffic and potentially causing service interruptions. For information how to discover NTLM traffic in your domain, see <a href="jj865670(v=ws.10)" data-linktype="relative-path">Assessing NTLM usage</a> in this guide.</p>
<p><strong>In this topic</strong></p>
<ul>
<li><p>Restricting NTLM traffic in the domain</p>
</li>
<li><p>Restricting incoming NTLM traffic to a remote server</p>
</li>
<li><p>Restricting outgoing NTLM traffic from a client computer to a remote server</p>
</li>
</ul>
<h2 id="restricting-ntlm-traffic-in-the-domain">Restricting NTLM traffic in the domain</h2>
<p>The following conditions and procedures can help you determine the level of NTLM authentication traffic within a target domain so you can eventually restrict the NTLM traffic and promote Kerberos authentication.</p>
<div class="WARNING">
<p>Warning</p>
<p>Setting the policy <STRONG>Restrict NTLM: NTLM authentication in this domain</STRONG> without performing an impact assessment first might cause service outage for those applications and users still using NTLM authentication. For information about performing an assessment, see <A href="jj865670(v=ws.10)" data-linktype="relative-path">Assessing NTLM usage</A> in this guide.
<br></p>
</div>
<p><strong>Conditions</strong></p>
<p>You need to meet the following conditions to restrict NTLM traffic in a domain:</p>
<ul>
<li><p>Assessment of NTLM usage within the domain.</p>
</li>
<li><p>Ability to configure a security policy on the domain controller.</p>
</li>
<li><p>Access to the event logs on the member servers and domain controller.</p>
</li>
<li><p>Knowledge that the list of server names on the security policy <strong>Network security: Restrict NTLM: Add server exceptions in this domain</strong> is correct, if configured.</p>
</li>
</ul>
<h2 id="configure-the-network-security-policy-restrict-ntlm-ntlm-authentication-in-this-domain">Configure the network security policy Restrict NTLM: NTLM authentication in this domain</h2>
<ol>
<li><p>On the domain controller, use the Group Policy Management Console (GPMC) to open the Group Policy <strong>Restrict NTLM: NTLM authentication in this domain</strong> located under the Computer Configuration/Security Settings/Security Options node.</p>
<p>This policy setting allows you to deny or allow NTLM authentication within this domain. This policy does not affect interactive logon to this domain controller.</p>
</li>
<li><p>Select one of the following options that are supported by your assessment:</p>
<ul>
<li><p>Allow domain logon-related NTLM and NTLM traffic to servers in this domain</p>
<p>The domain controller will allow all NTLM pass-through authentication requests within the domain. This is the behavior if this policy is not configured.</p>
</li>
<li><p>Allow domain logon-related NTLM traffic or NTLM traffic to servers in this domain</p>
<p>The domain controller will deny all NTLM authentication logon attempts to all servers in the domain that are using domain accounts and display an NTLM blocked error unless the server name is on the exception list in the <strong>Network Security: Restrict NTLM: Add server exceptions for NTLM authentication in this domain</strong> policy setting.</p>
</li>
<li><p>Deny domain logon-related NTLM traffic in this domain</p>
<p>The domain controller will deny all NTLM authentication logon attempts from domain accounts and display an NTLM blocked error unless the server name is on the exception list in the <strong>Network Security: Restrict NTLM: Add server exceptions for NTLM authentication in this domain</strong> policy setting.</p>
</li>
<li><p>Deny NTLM traffic to servers in this domain</p>
<p>The domain controller will deny NTLM authentication requests to all servers in the domain and display an NTLM blocked error unless the server name is on the exception list in the <strong>Network Security: Restrict NTLM: Add server exceptions for NTLM authentication in this domain</strong> policy setting.</p>
</li>
<li><p>Deny NTLM traffic in this domain</p>
<p>The domain controller will deny all NTLM pass-through authentication requests from its servers and for its accounts and display an NTLM blocked error unless the server name is on the exception list in the <strong>Network Security: Restrict NTLM: Add server exceptions for NTLM authentication in this domain</strong> policy setting.</p>
</li>
</ul>
</li>
</ol>
<h2 id="evaluate-the-ntlmoperational-log-for-evidence-of-authentication-failures">Evaluate the NTLM/Operational log for evidence of authentication failures</h2>
<ol>
<li><p>Using Event Viewer on the domain controller, navigate to Applications and Services Logs/Microsoft/Windows/NTLM and open the Operational log.</p>
</li>
<li><p>Investigate NTLM authentiction failed events to determine if NTLM authentication should be allowed or should be restricted by using a different option. Note server names.</p>
</li>
<li><p>You can adjust the NTLM authentication usage by resetting this policy to a different option or adding other servers to the exception list.</p>
</li>
</ol>
<h2 id="restricting-incoming-ntlm-traffic-to-a-remote-server">Restricting incoming NTLM traffic to a remote server</h2>
<p>The following conditions and procedures can help you determine the level of incoming NTLM authentication traffic from a client computer to a remote server so you can eventually restrict the NTLM traffic and promote Kerberos authentication.</p>
<div class="WARNING">
<p>Warning</p>
<p>Setting the policy <STRONG>Network Security: Restrict NTLM: Incoming NTLM traffic</STRONG> without performing an impact assessment first might cause service outage for those applications and users still using NTLM authentication. For information about performing an assessment, see <A href="jj865670(v=ws.10)" data-linktype="relative-path">Assessing NTLM usage</A> in this guide.
<br></p>
</div>
<p><strong>Conditions</strong></p>
<p>You need to meet the following conditions to restrict NTLM traffic on a remote server:</p>
<ul>
<li><p>Ability to configure a security policy on the remote server.</p>
</li>
<li><p>Access to the event logs on the remote server and domain controller.</p>
</li>
<li><p>Knowledge that the list of server names on the security policy <strong>Network security: Restrict NTLM: Add server exceptions for NTLM authentication in this domain</strong> is correct, if configured.</p>
</li>
<li><p>Established connection to the remote server.</p>
</li>
</ul>
<h2 id="configure-the-network-security-policy-restrict-ntlm-incoming-ntlm-traffic">Configure the network security policy Restrict NTLM: Incoming NTLM traffic</h2>
<ol>
<li><p>On the remote server, use the Group Policy Management Console (gpmc.msc) to open the security policy <strong>Restrict NTLM: Incoming NTLM traffic</strong> located under the Computer Configuration/Security Settings/Security Options node.</p>
</li>
<li><p>Select one of the following options that supports your assessment strategy:</p>
<ul>
<li><p>Allow all incoming NTLM traffic</p>
<p>The server will allow all NTLM authentication requests. This is the behavior if this policy is not configured.</p>
</li>
<li><p>Deny all incoming domain logon related NTLM traffic</p>
<p>The server will deny NTLM authentication requests for domain logon and display an NTLM blocked error.</p>
</li>
<li><p>Deny all incoming NTLM traffic</p>
<p>The server will deny NTLM authentication requests from incoming traffic and display an NTLM blocked error.</p>
</li>
</ul>
</li>
</ol>
<h2 id="evaluate-the-ntlmoperational-log-for-evidence-of-authentication-failures-1">Evaluate the NTLM/Operational log for evidence of authentication failures</h2>
<ol>
<li><p>Using Event Viewer on the domain controller and the remote server, navigate to Applications and Services Logs/Microsoft/Windows/NTLM and open the Operational log on each.</p>
</li>
<li><p>Investigate NTLM authentication failed events to determine if NTLM authentication should be allowed or should be restricted. Note computer names.</p>
</li>
<li><p>You can adjust the NTLM authentication usage by resetting this policy to a different option or adding other servers to the exception list.</p>
</li>
</ol>
<h2 id="restricting-outgoing-ntlm-traffic-from-a-client-computer-to-a-remote-server">Restricting outgoing NTLM traffic from a client computer to a remote server</h2>
<p>The following conditions and procedures can help you determine the level of outgoing NTLM authentication traffic from a client computer to a remote server so you can eventually restrict the NTLM traffic and promote Kerberos authentication.</p>
<div class="WARNING">
<p>Warning</p>
<p>Setting the policy <STRONG>Restrict NTLM: Outgoing NTLM traffic to remote servers</STRONG> without performing an impact assessment first might cause service outage for those applications and users still using NTLM authentication. For information about performing an assessment, see <A href="jj865670(v=ws.10)" data-linktype="relative-path">Assessing NTLM usage</A> in this guide.
<br></p>
</div>
<p><strong>Conditions</strong></p>
<p>You need to meet the following conditions to restrict NTLM traffic to a remote server:</p>
<ul>
<li><p>Assessment of NTLM usage between this server and client computers.</p>
</li>
<li><p>Ability to configure a security policy on the client computer.</p>
</li>
<li><p>Access to the event logs on the client computer.</p>
</li>
<li><p>Knowledge that the list of server names on the security policy <strong>Network security: Restrict NTLM: Restrict NTLM: Add remote server exceptions for NTLM authentication</strong> is correct, if configured.</p>
</li>
</ul>
<h2 id="configure-the-network-security-policy-restrict-ntlm-outgoing-ntlm-traffic-to-remote-servers">Configure the network security policy Restrict NTLM: Outgoing NTLM traffic to remote servers</h2>
<ol>
<li><p>On the client computer, use the Group Policy Management Console (gpmc.msc) to open the network security policy <strong>Restrict NTLM: Outgoing NTLM traffic to remote servers</strong> located under the Computer Configuration/Security Settings/Security Options node. This policy setting allows you to deny or audit outgoing NTLM traffic to remote servers.</p>
</li>
<li><p>Select one of the following options that supports your assessment strategy:</p>
<ul>
<li><p>Deny all outgoing NTLM traffic to remote servers.</p>
<p>The client computer cannot authenticate identities to a remote server by using NTLM authentication. You can use the <strong>Network Security: Restrict NTLM: Add remote server exceptions for NTLM authentication</strong> policy setting to define a list of remote servers to which clients are allowed to use NTLM authentication.</p>
</li>
<li><p>Allow all outgoing NTLM traffic to remote servers.</p>
<p>The client computer can authenticate identities to a remote server by using NTLM authentication. This is the default behavior if this policy is not configured.</p>
</li>
</ul>
</li>
</ol>
<h2 id="create-the-exceptions-list-for-remote-servers">Create the exceptions list for remote servers</h2>
<ol>
<li><p>Open the Group Policy Management Console (gpmc.msc) on the client computer.</p>
</li>
<li><p>Navigate to the <strong>Security Options</strong> node under Local Computer Policy/Computer Configuration/Windows Settings/Security Settings/Local Policies.</p>
</li>
<li><p>Configure the security policy <strong>Network security: Restrict NTLM: Add remote server exceptions for NTLM authentication</strong> by listing the names of the servers that you will allow NTLM authentication. The naming format for servers on this exception list is the fully qualified domain name (FQDN) or NetBIOS server name used by the calling application listed one per line. A single asterisk (*) can be used at the beginning or end of the string as a wild card character.</p>
</li>
</ol>
<h2 id="evaluate-the-ntlmoperational-log-for-evidence-of-authentication-failures-2">Evaluate the NTLM/Operational log for evidence of authentication failures</h2>
<ol>
<li><p>Using Event Viewer on the domain controller, navigate to Applications and Services Logs/Microsoft/Windows/NTLM and open the Operational log.</p>
</li>
<li><p>Investigate NTLM authentication failed events to determine if NTLM authentication should be allowed or should be restricted. Note server names.</p>
</li>
</ol>
<h2 id="see-also">See Also</h2>
<h4 id="concepts">Concepts</h4>
<p><a href="jj865676(v=ws.10)" data-linktype="relative-path">Restricting NTLM usage</a></p>

						<!-- </content> -->

						</main>

						<!-- page rating section -->
						<!-- end page rating section -->


						<!-- recommendations section -->
						<!-- end recommendations section -->

						<!-- feedback section -->
						<!-- end feedback section -->

						<!-- feedback report section -->
						<!-- end feedback report section -->

						<div class="border-top is-visible-interactive has-default-focus has-margin-top-large ">



	<footer id="footer-interactive" data-bi-name="footer" class="footer-layout">
	<div class="display-flex is-full-height has-padding-right-extra-large-desktop">
			<a data-mscc-ic="false" class="locale-selector-link flex-shrink-0" href="#" data-bi-name="select-locale"><span class="icon docon docon-world font-size-l has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text"></span></a>
		<div class="has-margin-left-medium has-margin-right-medium flex-shrink-0">
<div class="dropdown has-caret-up">
	<button class="dropdown-trigger button is-transparent is-small is-icon-only-touch has-inner-focus theme-dropdown-trigger"
		aria-controls="theme-menu-interactive" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span>Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu-interactive" role="menu">
		<ul class="theme-selector has-padding-small">
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="light">
					<span class="theme-light has-margin-right-small">
						<span
							class="theme-selector-icon css-variable-support border is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
Light					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="dark">
					<span class="theme-dark has-margin-right-small">
						<span
							class="border theme-selector-icon css-variable-support is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
Dark					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="high-contrast">
					<span class="theme-high-contrast has-margin-right-small">
						<span
							class="border theme-selector-icon css-variable-support is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
High contrast					</span>
				</button>
			</li>
		</ul>
	</div>
</div>		</div>
	</div>
	<ul class="links" data-bi-name="footerlinks">
		<li class="manage-cookies-holder" hidden></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/teamblog" data-bi-name="bloglink">Blog</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/contribute" data-bi-name="contributorGuide">Contribute</a></li>
					<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
				<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
		<li>&copy; Microsoft 2021</li>
	</ul>
</footer>
						</div>
					</div>
					
					<div class="font-size-s right-container column is-one-quarter is-one-fifth-desktop is-hidden-mobile is-hidden-tablet-only" data-bi-name="pageactions" role="complementary" aria-label="Page Actions">
						<div id="affixed-right-container" class="doc-outline position-fixed is-vertically-scrollable">
							<nav id="side-doc-outline" data-bi-name="intopic toc" role="navigation" aria-label="Article Outline">
								<h3>In this article</h3>
							</nav>
						</div>
					</div>

					<!--end of div.columns -->
				</div>

			<!--end of .primary-holder -->
			</section>

			<aside id="interactive-container" class="interactive-container is-visible-interactive column has-body-background-dark ">
			</aside>
		</div>

		<!--end of .mainContainer -->
	</div>

	<section class="border-top has-default-focus is-hidden-interactive has-margin-top-large ">



	<footer id="footer" data-bi-name="footer" class="footer-layout uhf-container has-padding" role="contentinfo">
	<div class="display-flex is-full-height has-padding-right-extra-large-desktop">
			<a data-mscc-ic="false" class="locale-selector-link flex-shrink-0" href="#" data-bi-name="select-locale"><span class="icon docon docon-world font-size-l has-margin-right-small" aria-hidden="true"></span><span class="local-selector-link-text"></span></a>
		<div class="has-margin-left-medium has-margin-right-medium flex-shrink-0">
<div class="dropdown has-caret-up">
	<button class="dropdown-trigger button is-transparent is-small is-icon-only-touch has-inner-focus theme-dropdown-trigger"
		aria-controls="theme-menu" aria-expanded="false" title="Theme" data-bi-name="theme">
		<span class="icon">
			<span class="docon docon-sun" aria-hidden="true"></span>
		</span>
		<span>Theme</span>
	</button>
	<div class="dropdown-menu" id="theme-menu" role="menu">
		<ul class="theme-selector has-padding-small">
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="light">
					<span class="theme-light has-margin-right-small">
						<span
							class="theme-selector-icon css-variable-support border is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
Light					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="dark">
					<span class="theme-dark has-margin-right-small">
						<span
							class="border theme-selector-icon css-variable-support is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
Dark					</span>
				</button>
			</li>
			<li class="theme is-block">
				<button class="button is-text is-small theme-control is-fullwidth justify-content-flex-start"
					data-theme-to="high-contrast">
					<span class="theme-high-contrast has-margin-right-small">
						<span
							class="border theme-selector-icon css-variable-support is-inline-block has-body-background"
							aria-hidden="true">
							<svg class="svg" xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 22 14">
								<rect width="22" height="14" class="has-fill-body-background" />
								<rect x="5" y="5" width="12" height="4" class="has-fill-secondary" />
								<rect x="5" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="8" y="2" width="2" height="1" class="has-fill-secondary" />
								<rect x="11" y="2" width="3" height="1" class="has-fill-secondary" />
								<rect x="1" y="1" width="2" height="2" class="has-fill-secondary" />
								<rect x="5" y="10" width="7" height="2" rx="0.3" class="has-fill-primary" />
								<rect x="19" y="1" width="2" height="2" rx="1" class="has-fill-secondary" />
							</svg>
						</span>
					</span>
					<span role="menuitem">
High contrast					</span>
				</button>
			</li>
		</ul>
	</div>
</div>		</div>
	</div>
	<ul class="links" data-bi-name="footerlinks">
		<li class="manage-cookies-holder" hidden></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/previous-versions/" data-bi-name="archivelink">Previous Version Docs</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/teamblog" data-bi-name="bloglink">Blog</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/contribute" data-bi-name="contributorGuide">Contribute</a></li>
					<li><a data-mscc-ic="false" href="https://go.microsoft.com/fwlink/?LinkId=521839" data-bi-name="privacy">Privacy &amp; Cookies</a></li>
				<li><a data-mscc-ic="false" href="https://docs.microsoft.com/en-us/legal/termsofuse" data-bi-name="termsofuse">Terms of Use</a></li>
				<li><a data-mscc-ic="false" href="https://www.microsoft.com/en-us/legal/intellectualproperty/Trademarks/EN-US.aspx" data-bi-name="trademarks">Trademarks</a></li>
		<li>&copy; Microsoft 2021</li>
	</ul>
</footer>
	</section>

	<div id="action-panel" role="region" aria-label="Action Panel" class="action-panel has-default-focus" tabindex="-1"></div>
</body>
</html>
